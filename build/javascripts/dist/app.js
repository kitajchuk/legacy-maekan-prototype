/*!
 * 
 * grunt-nautilus
 * https://github.com/kitajchuk/grunt-nautilus
 *
 * Copyright (c) 2015 Brandon Kitajchuk
 * Licensed under the MIT license.
 *
 *
 */
!function(e){"use strict";var t,n=e.console||{log:function(){}};t={dom:{},detect:{},config:{},util:{},resizes:{},navbar:{},scrolls:{},loader:{},feed:{},preload:{},gallery:{},api:{},keys:{},search:{},drawer:{},account:{},cover:{},refine:{},players:{},carousel:{},belt:{},scripts:{},router:{},loadin:{}},t.env="development",t.log=function(){/^dev/.test(t.env)&&(t.log.history.push(arguments),e.console&&e.console.log&&n.log([].slice.call(arguments,0)))},t.log.history=[],e.app=t}(this),/*!
 * jQuery JavaScript Library v3.0.0-pre -deprecated,-effects,-effects/Tween,-effects/animatedSelector,-css,-css/addGetHookIf,-css/adjustCSS,-css/curCSS,-css/hiddenVisibleSelectors,-css/showHide,-css/support,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-css/var/swap,-dimensions,-offset,-wrap,-exports/amd,-event/alias,-core/ready
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-06-26T18:50Z
 */
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=F.type(e);return"function"===n||F.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(F.isFunction(t))return F.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return F.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Q.test(t))return F.filter(t,e,n);t=F.filter(t,e)}return F.grep(e,function(e){return q.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return F.each(e.match(nt)||[],function(e,n){t[n]=!0}),t}function a(e){return e}function s(e){throw e}function u(){this.expando=F.expando+u.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(st,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:at.test(n)?F.parseJSON(n):n}catch(r){}ot.set(e,t,n)}else n=void 0;return n}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&F.nodeName(e,t)?F.merge([e],n):n}function d(e,t){for(var n=0,i=e.length;i>n;n++)rt.set(e[n],"globalEval",!t||rt.get(t[n],"globalEval"))}function p(e,t,n,i,r){for(var o,a,s,u,l,p,f=t.createDocumentFragment(),h=[],m=0,g=e.length;g>m;m++)if(o=e[m],o||0===o)if("object"===F.type(o))F.merge(h,o.nodeType?[o]:o);else if(ft.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ct.exec(o)||["",""])[1].toLowerCase(),u=pt[s]||pt._default,a.innerHTML=u[1]+F.htmlPrefilter(o)+u[2],p=u[0];p--;)a=a.lastChild;F.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",m=0;o=h[m++];)if(i&&F.inArray(o,i)>-1)r&&r.push(o);else if(l=F.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),l&&d(a),n)for(p=0;o=a[p++];)dt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function h(){return!1}function m(){try{return I.activeElement}catch(e){}}function g(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)g(e,s,n,i,t[s],o);return e}return null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1&&(r=h),1===o&&(a=r,r=function(e){return F().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=F.guid++)),e.each(function(){F.event.add(this,t,r,i,n)})}function v(e,t){return F.nodeName(e,"table")&&F.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function w(e){var t=Tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var n,i,r,o,a,s,u,l;if(1===t.nodeType){if(rt.hasData(e)&&(o=rt.access(e),a=rt.set(t,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)F.event.add(t,r,l[r][n])}ot.hasData(e)&&(s=ot.access(e),u=F.extend({},s),ot.set(t,u))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&lt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function _(e,t,n,i){t=P.apply([],t);var r,o,a,s,u,l,d=0,f=e.length,h=f-1,m=t[0],g=F.isFunction(m);if(g||f>1&&"string"==typeof m&&!R.checkClone&&bt.test(m))return e.each(function(r){var o=e.eq(r);g&&(t[0]=m.call(this,r,o.html())),_(o,t,n,i)});if(f&&(r=p(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=F.map(c(r,"script"),y),s=a.length;f>d;d++)u=r,d!==h&&(u=F.clone(u,!0,!0),s&&F.merge(a,c(u,"script"))),n.call(e[d],u,d);if(s)for(l=a[a.length-1].ownerDocument,F.map(a,w),d=0;s>d;d++)u=a[d],dt.test(u.type||"")&&!rt.access(u,"globalEval")&&F.contains(l,u)&&(u.src?F._evalUrl&&F._evalUrl(u.src):F.globalEval(u.textContent.replace(_t,"")))}return e}function C(e,t,n){for(var i,r=t?F.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||F.cleanData(c(i)),i.parentNode&&(n&&F.contains(i.ownerDocument,i)&&d(c(i,"script")),i.parentNode.removeChild(i));return e}function x(e){return e.getAttribute&&e.getAttribute("class")||""}function E(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(nt)||[];if(F.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function S(e,t,n,i){function r(s){var u;return o[s]=!0,F.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=e===Ot;return r(t.dataTypes[0])||!o["*"]&&r("*")}function D(e,t){var n,i,r=F.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&F.extend(!0,e,i),e}function A(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function j(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function M(e,t,n,i){var r;if(F.isArray(t))F.each(t,function(t,r){n||Ft.test(e)?i(e,r):M(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==F.type(t))i(e,t);else for(r in t)M(e+"["+r+"]",t[r],n,i)}var N=[],I=e.document,k=N.slice,P=N.concat,L=N.push,q=N.indexOf,H={},O=H.toString,$=H.hasOwnProperty,R={},z="3.0.0-pre -deprecated,-effects,-effects/Tween,-effects/animatedSelector,-css,-css/addGetHookIf,-css/adjustCSS,-css/curCSS,-css/hiddenVisibleSelectors,-css/showHide,-css/support,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-css/var/swap,-dimensions,-offset,-wrap,-exports/amd,-event/alias,-core/ready",F=function(e,t){return new F.fn.init(e,t)},W=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,B=/^-ms-/,V=/-([a-z])/g,U=function(e,t){return t.toUpperCase()};F.fn=F.prototype={jquery:z,constructor:F,length:0,toArray:function(){return k.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:k.call(this)},pushStack:function(e){var t=F.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return F.each(this,e)},map:function(e){return this.pushStack(F.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:N.sort,splice:N.splice},F.extend=F.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||F.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(F.isPlainObject(i)||(r=F.isArray(i)))?(r?(r=!1,o=n&&F.isArray(n)?n:[]):o=n&&F.isPlainObject(n)?n:{},a[t]=F.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},F.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===F.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!F.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==F.type(e)||e.nodeType||F.isWindow(e)?!1:e.constructor&&!$.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?H[O.call(e)]||"object":typeof e},globalEval:function(e){var t=I.createElement("script");t.text=e,I.head.appendChild(t).parentNode.removeChild(t)},camelCase:function(e){return e.replace(B,"ms-").replace(V,U)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i=0,r=e.length,o=n(e);if(o)for(;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(W,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?F.merge(i,"string"==typeof e?[e]:e):L.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&u.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&u.push(r);return P.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),F.isFunction(e)?(i=k.call(arguments,2),r=function(){return e.apply(t||this,i.concat(k.call(arguments)))},r.guid=e.guid=e.guid||F.guid++,r):void 0},now:Date.now,support:R}),"function"==typeof Symbol&&(F.fn[Symbol.iterator]=N[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()});var X=/*!
 * Sizzle CSS Selector Engine v2.2.0
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-10
 */
function(e){function t(e,t,n,i){var r,o,a,s,u,l,d,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:R)!==I&&N(t),t=t||I,P)){if(11!==h&&(u=vt.exec(e)))if(r=u[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&O(t,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),n}if(!(!T.qsa||V[e+" "]||L&&L.test(e))){if(1!==h)f=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(wt,"\\$&"):t.setAttribute("id",s=$),l=E(e),o=l.length;o--;)l[o]="[id='"+s+"'] "+p(l[o]);d=l.join(","),f=yt.test(e)&&c(t.parentNode)||t}if(d)try{return Z.apply(n,f.querySelectorAll(d)),n}catch(m){}finally{s===$&&t.removeAttribute("id")}}}return D(e.replace(st,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[$]=!0,e}function r(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=F++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[z,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[$]||(t[$]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[i])&&s[0]===z&&s[1]===o)return c[2]=s[2];if(u[i]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[$]&&(r=v(r)),o&&!o[$]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,d,p=[],f=[],h=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,p,e,s,u),w=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,w,s,u),r)for(l=g(w,f),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(w[f[c]]=!(y[f[c]]=d));if(i){if(o||e){if(o){for(l=[],c=w.length;c--;)(d=w[c])&&l.push(y[c]=d);o(null,w=[],l,u)}for(c=w.length;c--;)(d=w[c])&&(l=o?et(i,d):p[c])>-1&&(i[l]=!(a[l]=d))}}else w=g(w===a?w.splice(h,w.length):w),o?o(null,a,w,u):Z.apply(a,w)})}function y(e){for(var t,n,i,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),l=f(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==A)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];r>s;s++)if(n=_.relative[e[s].type])c=[f(h(c),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[$]){for(i=++s;r>i&&!_.relative[e[i].type];i++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(st,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}c.push(n)}return h(c)}function w(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,u,l){var c,d,p,f=0,h="0",m=i&&[],v=[],y=A,w=i||o&&_.find.TAG("*",l),b=z+=null==y?1:Math.random()||.1,T=w.length;for(l&&(A=a===I||a||l);h!==T&&null!=(c=w[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument===I||(N(c),s=!P);p=e[d++];)if(p(c,a||I,s)){u.push(c);break}l&&(z=b)}r&&((c=!p&&c)&&f--,i&&m.push(c))}if(f+=h,r&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(i){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}Z.apply(u,v),l&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(z=b,A=y),m};return r?i(a):a}var b,T,_,C,x,E,S,D,A,j,M,N,I,k,P,L,q,H,O,$="sizzle"+1*new Date,R=e.document,z=0,F=0,W=n(),B=n(),V=n(),U=function(e,t){return e===t&&(M=!0),0},X=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,Z=G.push,K=G.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),pt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){N()};try{Z.apply(G=K.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(Ct){Z={apply:G.length?function(e,t){J.apply(e,K.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}T=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:R;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,k=I.documentElement,P=!x(I),I.documentMode&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=gt.test(I.getElementsByClassName),T.getById=r(function(e){return k.appendChild(e).id=$,!I.getElementsByName||!I.getElementsByName($).length}),T.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},_.filter.ID=function(e){var t=e.replace(bt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(bt,Tt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=T.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},q=[],L=[],(T.qsa=gt.test(I.querySelectorAll))&&(r(function(e){k.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+$+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(T.matchesSelector=gt.test(H=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(e){T.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),q.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),q=q.length&&new RegExp(q.join("|")),t=gt.test(k.compareDocumentPosition),O=t||gt.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===R&&O(R,e)?-1:t===I||t.ownerDocument===R&&O(R,t)?1:j?et(j,e)-et(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!r||!o)return e===I?-1:t===I?1:r?-1:o?1:j?et(j,e)-et(j,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===R?-1:u[i]===R?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&N(e),n=n.replace(ct,"='$1']"),!(!T.matchesSelector||!P||V[n+" "]||q&&q.test(n)||L&&L.test(n)))try{var i=H.call(e,n);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&N(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&N(e);var n=_.attrHandle[t.toLowerCase()],i=n&&Y.call(_.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:T.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!T.detectDuplicates,j=!T.sortStable&&e.slice(0),e.sort(U),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return j=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},_=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(bt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(bt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,w=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=g,d=p[$]||(p[$]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),l=c[e]||[],f=l[0]===z&&l[1],w=f&&l[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(w=f=0)||h.pop();)if(1===p.nodeType&&++w&&p===t){c[e]=[z,f,w];break}}else if(y&&(p=t,d=p[$]||(p[$]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),l=c[e]||[],f=l[0]===z&&l[1],w=f),w===!1)for(;(p=++f&&p&&p[m]||(w=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++w||(y&&(d=p[$]||(p[$]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[z,w]),p!==t)););return w-=r,w===i||w%i===0&&w/i>=0}}},PSEUDO:function(e,n){var r,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(r=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=et(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(st,"$1"));return r[$]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(bt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(bt,Tt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=u(b);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,E=t.tokenize=function(e,n){var i,r,o,a,s,u,l,c=B[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=_.preFilter;s;){(!i||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in _.filter)!(r=ft[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):B(e,u).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[$]?i.push(o):r.push(o);o=V(e,w(r,i)),o.selector=e}return o},D=t.select=function(e,t,n,i){var r,o,a,s,u,l="function"==typeof e&&e,d=!i&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&T.getById&&9===t.nodeType&&P&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(bt,Tt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ft.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((u=_.find[s])&&(i=u(a.matches[0].replace(bt,Tt),yt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return Z.apply(n,i),n;break}}return(l||S(e,d))(i,t,!P,n,!t||yt.test(e)&&c(t.parentNode)||t),n},T.sortStable=$.split("").sort(U).join("")===$,T.detectDuplicates=!!M,N(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);F.find=X,F.expr=X.selectors,F.expr[":"]=F.expr.pseudos,F.uniqueSort=F.unique=X.uniqueSort,F.text=X.getText,F.isXMLDoc=X.isXML,F.contains=X.contains;var Y=F.expr.match.needsContext,G=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Q=/^.[^:#\[\.,]*$/;F.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?F.find.matchesSelector(i,e)?[i]:[]:F.find.matches(e,F.grep(t,function(e){return 1===e.nodeType}))},F.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(F(e).filter(function(){for(t=0;n>t;t++)if(F.contains(r[t],this))return!0}));for(t=0;n>t;t++)F.find(e,r[t],i);return this.pushStack(n>1?F.uniqueSort(i):i)},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Y.test(e)?F(e):e||[],!1).length}});var J,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,K=F.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||J,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Z.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof F?t[0]:t,F.merge(this,F.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:I,!0)),G.test(i[1])&&F.isPlainObject(t))for(i in t)F.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=I.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):F.isFunction(e)?void 0!==n.ready?n.ready(e):e(F):F.makeArray(e,this)};K.prototype=F.fn,J=F(I);var et=/^(?:parents|prev(?:Until|All))/,tt={children:!0,contents:!0,next:!0,prev:!0};F.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&F(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),F.fn.extend({has:function(e){var t=F(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(F.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Y.test(e)||"string"!=typeof e?F(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&F.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?F.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?q.call(F(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),F.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F.dir(e,"parentNode")},parentsUntil:function(e,t,n){return F.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return F.dir(e,"nextSibling")},prevAll:function(e){return F.dir(e,"previousSibling")},nextUntil:function(e,t,n){return F.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return F.dir(e,"previousSibling",n)},siblings:function(e){return F.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return F.sibling(e.firstChild)},contents:function(e){return e.contentDocument||F.merge([],e.childNodes)}},function(e,t){F.fn[e]=function(n,i){var r=F.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=F.filter(i,r)),this.length>1&&(tt[e]||F.uniqueSort(r),et.test(e)&&r.reverse()),this.pushStack(r)}});var nt=/\S+/g;F.Callbacks=function(e){e="string"==typeof e?o(e):F.extend({},e);var t,n,i,r,a=[],s=[],u=-1,l=function(){for(r=e.once,i=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function i(t){F.each(t,function(t,n){F.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==F.type(n)&&i(n)})}(arguments),n&&!t&&l()),this},remove:function(){return F.each(arguments,function(e,t){for(var n;(n=F.inArray(t,a,n))>-1;)a.splice(n,1),u>=n&&u--}),this},has:function(e){return e?F.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||t||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},F.extend({Deferred:function(t){var n=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},pipe:function(){var e=arguments;return F.Deferred(function(t){F.each(n,function(n,i){var a=F.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&F.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this===r?t.promise():this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,i,o){function u(t,n,i,o){return function(){var c=this===r?void 0:this,d=arguments,p=function(){var e,r;if(!(l>t)){if(e=i.apply(c,d),e===n.promise())throw new TypeError("Thenable self-resolution");r=e&&("object"==typeof e||"function"==typeof e)&&e.then,F.isFunction(r)?o?r.call(e,u(l,n,a,o),u(l,n,s,o)):(l++,r.call(e,u(l,n,a,o),u(l,n,s,o),u(l,n,a,n.notify))):(i!==a&&(c=void 0,d=[e]),(o||n.resolveWith)(c||n.promise(),d))}},f=o?p:function(){try{p()}catch(e){t+1>=l&&(i!==s&&(c=void 0,d=[e]),n.rejectWith(c||n.promise(),d))}};t?f():e.setTimeout(f)}}var l=0;return F.Deferred(function(e){n[0][3].add(u(0,e,F.isFunction(o)?o:a,e.notifyWith)),n[1][3].add(u(0,e,F.isFunction(t)?t:a)),n[2][3].add(u(0,e,F.isFunction(i)?i:s))}).promise()},promise:function(e){return null!=e?F.extend(e,r):r}},o={};return F.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?r:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t,n,i,r,o=0,a=k.call(arguments),s=a.length,u=1!==s||e&&F.isFunction(e.promise)?s:0,l=1===u?e:F.Deferred(),c=function(e,t,i){return function(r){t[e]=this,i[e]=arguments.length>1?k.call(arguments):r,i===n?l.notifyWith(t,i):--u||l.resolveWith(t,i)}};if(s>1)for(n=new Array(s),i=new Array(s),r=new Array(s);s>o;o++)a[o]&&F.isFunction(t=a[o].promise)?t.call(a[o]).progress(c(o,i,n)).done(c(o,r,a)).fail(l.reject):a[o]&&F.isFunction(t=a[o].then)?t.call(a[o],c(o,r,a),l.reject,c(o,i,n)):--u;return u||l.resolveWith(r,a),l.promise()}});var it=F.access=function(e,t,n,i,r,o,a){var s=0,u=e.length,l=null==n;if("object"===F.type(n)){r=!0;for(s in n)it(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,F.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(F(e),n)})),t))for(;u>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):o};F.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},u.uid=1,u.accepts=F.acceptData,u.prototype={register:function(e){var t={};return e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!u.accepts(e))return{};var t=e[this.expando];return t?t:this.register(e)},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[F.camelCase(t)]=n;else for(i in t)r[F.camelCase(i)]=t[i];return r},get:function(e,t){var n=this.cache(e);return void 0===t?n:n[F.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){F.isArray(t)?t=t.map(F.camelCase):(t=F.camelCase(t),t=t in i?[t]:t.match(nt)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||F.isEmptyObject(i))&&delete e[this.expando]}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!F.isEmptyObject(t)}};var rt=new u,ot=new u,at=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,st=/[A-Z]/g;F.extend({hasData:function(e){return ot.hasData(e)||rt.hasData(e)},data:function(e,t,n){return ot.access(e,t,n)},removeData:function(e,t){ot.remove(e,t)},_data:function(e,t,n){return rt.access(e,t,n)},_removeData:function(e,t){rt.remove(e,t)}}),F.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ot.get(o),1===o.nodeType&&!rt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=F.camelCase(i.slice(5)),l(o,i,r[i])));rt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ot.set(this,e)}):it(this,function(t){var n;if(o&&void 0===t){if(n=ot.get(o,e),void 0!==n)return n;if(n=l(o,e),void 0!==n)return n}else this.each(function(){ot.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ot.remove(this,e)})}}),F.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt.get(e,t),n&&(!i||F.isArray(n)?i=rt.access(e,t,F.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=F.queue(e,t),i=n.length,r=n.shift(),o=F._queueHooks(e,t),a=function(){F.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt.get(e,n)||rt.access(e,n,{empty:F.Callbacks("once memory").add(function(){rt.remove(e,[t+"queue",n])})})}}),F.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?F.queue(this[0],e):void 0===t?this:this.each(function(){var n=F.queue(this,e,t);F._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&F.dequeue(this,e)})},dequeue:function(e){return this.each(function(){F.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=F.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=rt.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,lt=(new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),/^(?:checkbox|radio)$/i),ct=/<([\w:-]+)/,dt=/^$|\/(?:java|ecma)script/i,pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table>","</table>"],td:[3,"<table>","</table>"],_default:[0,"",""]};pt.optgroup=pt.option,pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td;var ft=/<|&#?\w+;/;!function(){var e=I.createDocumentFragment(),t=e.appendChild(I.createElement("div")),n=I.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),R.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",R.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}(),R.focusin="onfocusin"in e;var ht=/^key/,mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gt=/^(?:focusinfocus|focusoutblur)$/,vt=/^([^.]*)(?:\.(.+)|)/;F.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,f,h,m,g=rt.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=F.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof F&&F.event.triggered!==t.type?F.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(nt)||[""],l=t.length;l--;)s=vt.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=F.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=F.event.special[f]||{},c=F.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&F.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=u[f])||(p=u[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),F.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,f,h,m,g=rt.hasData(e)&&rt.get(e);if(g&&(u=g.events)){for(t=(t||"").match(nt)||[""],l=t.length;l--;)if(s=vt.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=F.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||F.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)F.event.remove(e,f+t[l],n,i,!0);F.isEmptyObject(u)&&rt.remove(e,"handle events")}},trigger:function(t,n,i,r){var o,a,s,u,l,c,d,p=[i||I],f=$.call(t,"type")?t.type:t,h=$.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||I,3!==i.nodeType&&8!==i.nodeType&&!gt.test(f+F.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[F.expando]?t:new F.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:F.makeArray(n,[t]),d=F.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!F.isWindow(i)){for(u=d.delegateType||f,gt.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||I)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||f,c=(rt.get(a,"events")||{})[t.type]&&rt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&F.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());
return t.type=f,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!F.acceptData(i)||l&&F.isFunction(i[f])&&!F.isWindow(i)&&(s=i[l],s&&(i[l]=null),F.event.triggered=f,i[f](),F.event.triggered=void 0,s&&(i[l]=s)),t.result}},dispatch:function(e){e=F.event.fix(e);var t,n,i,r,o,a=[],s=k.call(arguments),u=(rt.get(this,"events")||{})[e.type]||[],l=F.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=F.event.handlers.call(this,e,u),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((F.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?F(r,this).index(u)>-1:F.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||I,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[F.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=mt.test(r)?this.mouseHooks:ht.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new F.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return 3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&F.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return F.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=F.extend(new F.Event,n,{type:e,isSimulated:!0});F.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},F.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},F.Event=function(e,t){return this instanceof F.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&F.extend(this,t),this.timeStamp=e&&e.timeStamp||F.now(),void(this[F.expando]=!0)):new F.Event(e,t)},F.Event.prototype={constructor:F.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation(),this.stopPropagation()}},F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){F.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!F.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),R.focusin||F.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){F.event.simulate(t,e.target,F.event.fix(e))};F.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt.access(i,t);r||i.addEventListener(e,n,!0),rt.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt.access(i,t)-1;r?rt.access(i,t,r):(i.removeEventListener(e,n,!0),rt.remove(i,t))}}}),F.fn.extend({on:function(e,t,n,i){return g(this,e,t,n,i)},one:function(e,t,n,i){return g(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,F(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=h),this.each(function(){F.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){F.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?F.event.trigger(e,t,n,!0):void 0}});var yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wt=/<(?:script|style|link)/i,bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/^true\/(.*)/,_t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;F.extend({htmlPrefilter:function(e){return e.replace(yt,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),u=F.contains(e.ownerDocument,e);if(!(R.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||F.isXMLDoc(e)))for(a=c(s),o=c(e),i=0,r=o.length;r>i;i++)T(o[i],a[i]);if(t)if(n)for(o=o||c(e),a=a||c(s),i=0,r=o.length;r>i;i++)b(o[i],a[i]);else b(e,s);return a=c(s,"script"),a.length>0&&d(a,!u&&c(e,"script")),s},cleanData:function(e){for(var t,n,i,r=F.event.special,o=0;void 0!==(n=e[o]);o++)if(F.acceptData(n)&&(t=n[rt.expando])){if(t.events)for(i in t.events)r[i]?F.event.remove(n,i):F.removeEvent(n,i,t.handle);delete n[rt.expando]}}}),F.fn.extend({detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return it(this,function(e){return void 0===e?F.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(F.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return F.clone(this,e,t)})},html:function(e){return it(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!wt.test(e)&&!pt[(ct.exec(e)||["",""])[1].toLowerCase()]){e=F.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(F.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;F.inArray(this,e)<0&&(F.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){F.fn[e]=function(e){for(var n,i=[],r=F(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),F(r[a])[t](n),L.apply(i,n.get());return this.pushStack(i)}});I.documentElement;F.fn.delay=function(t,n){return t=F.fx?F.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=I.createElement("input"),t=I.createElement("select"),n=t.appendChild(I.createElement("option"));e.type="checkbox",R.checkOn=""!==e.value,R.optSelected=n.selected,t.disabled=!0,R.optDisabled=!n.disabled,e=I.createElement("input"),e.value="t",e.type="radio",R.radioValue="t"===e.value}();var Ct,xt=F.expr.attrHandle;F.fn.extend({attr:function(e,t){return it(this,F.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){F.removeAttr(this,e)})}}),F.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?F.prop(e,t,n):(1===o&&F.isXMLDoc(e)||(t=t.toLowerCase(),i=F.attrHooks[t]||(F.expr.match.bool.test(t)?Ct:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=F.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void F.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(nt);if(o&&1===e.nodeType)for(;n=o[r++];)i=F.propFix[n]||n,F.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!R.radioValue&&"radio"===t&&F.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ct={set:function(e,t,n){return t===!1?F.removeAttr(e,n):e.setAttribute(n,n),n}},F.each(F.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||F.find.attr;xt[t]=function(e,t,i){var r,o;return i||(o=xt[t],xt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,xt[t]=o),r}});var Et=/^(?:input|select|textarea|button)$/i;F.fn.extend({prop:function(e,t){return it(this,F.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[F.propFix[e]||e]})}}),F.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!F.isXMLDoc(e),o&&(t=F.propFix[t]||t,r=F.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Et.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),R.optSelected||(F.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});var St=/[\t\r\n\f]/g;F.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u="string"==typeof e&&e,l=0,c=this.length;if(F.isFunction(e))return this.each(function(t){F(this).addClass(e.call(this,t,x(this)))});if(u)for(t=(e||"").match(nt)||[];c>l;l++)if(n=this[l],r=x(n),i=1===n.nodeType&&(" "+r+" ").replace(St," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=F.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(F.isFunction(e))return this.each(function(t){F(this).removeClass(e.call(this,t,x(this)))});if(u)for(t=(e||"").match(nt)||[];c>l;l++)if(n=this[l],r=x(n),i=1===n.nodeType&&(" "+r+" ").replace(St," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=e?F.trim(i):"",r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(F.isFunction(e)?function(n){F(this).toggleClass(e.call(this,n,x(this),t),t)}:function(){var t,i,r,o;if("string"===n)for(i=0,r=F(this),o=e.match(nt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=x(this),t&&rt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":rt.get(this,"__className__")||""))})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+x(this[n])+" ").replace(St," ").indexOf(t)>-1)return!0;return!1}});var Dt=/\r/g;F.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=F.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,F(this).val()):e,null==r?r="":"number"==typeof r?r+="":F.isArray(r)&&(r=F.map(r,function(e){return null==e?"":e+""})),t=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=F.valHooks[r.type]||F.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),F.extend({valHooks:{option:{get:function(e){return F.trim(e.value)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(R.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&F.nodeName(n.parentNode,"optgroup"))){if(t=F(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=F.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=F.inArray(F.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(e,t){return F.isArray(t)?e.checked=F.inArray(F(e).val(),t)>-1:void 0}},R.checkOn||(F.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var At=e.location,jt=F.now(),Mt=/\?/;F.parseJSON=function(e){return JSON.parse(e+"")},F.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&F.error("Invalid XML: "+t),n};var Nt=/#.*$/,It=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lt=/^(?:GET|HEAD)$/,qt=/^\/\//,Ht={},Ot={},$t="*/".concat("*"),Rt=I.createElement("a");Rt.href=At.href,F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Pt.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":F.parseJSON,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,F.ajaxSettings),t):D(F.ajaxSettings,e)},ajaxPrefilter:E(Ht),ajaxTransport:E(Ot),ajax:function(t,n){function i(t,n,i,s){var l,d,y,w,T,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),r=void 0,a=s||"",_.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(w=A(p,_,i)),w=j(p,w,_,l),l?(p.ifModified&&(T=_.getResponseHeader("Last-Modified"),T&&(F.lastModified[o]=T),T=_.getResponseHeader("etag"),T&&(F.etag[o]=T)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,d=w.data,y=w.error,l=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),_.status=t,_.statusText=(n||C)+"",l?m.resolveWith(f,[d,C,_]):m.rejectWith(f,[_,C,y]),_.statusCode(v),v=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[_,p,l?d:y]),g.fireWith(f,[_,C]),c&&(h.trigger("ajaxComplete",[_,p]),--F.active||F.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,u,l,c,d,p=F.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?F(f):F.event,m=F.Deferred(),g=F.Callbacks("once memory"),v=p.statusCode||{},y={},w={},b=0,T="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=kt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=w[n]=w[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||T;return r&&r.abort(t),i(0,t),this}};if(m.promise(_),p.url=((t||p.url||At.href)+"").replace(Nt,"").replace(qt,At.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=F.trim(p.dataType||"*").toLowerCase().match(nt)||[""],null==p.crossDomain){l=I.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Rt.protocol+"//"+Rt.host!=l.protocol+"//"+l.host}catch(C){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=F.param(p.data,p.traditional)),S(Ht,p,n,_),2===b)return _;c=F.event&&p.global,c&&0===F.active++&&F.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Mt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=It.test(o)?o.replace(It,"$1_="+jt++):o+(Mt.test(o)?"&":"?")+"_="+jt++)),p.ifModified&&(F.lastModified[o]&&_.setRequestHeader("If-Modified-Since",F.lastModified[o]),F.etag[o]&&_.setRequestHeader("If-None-Match",F.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$t+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,_,p)===!1||2===b))return _.abort();if(T="abort",g.add(p.complete),_.done(p.success),_.fail(p.error),r=S(Ot,p,n,_)){if(_.readyState=1,c&&h.trigger("ajaxSend",[_,p]),2===b)return _;p.async&&p.timeout>0&&(u=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{b=1,r.send(y,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return _},getJSON:function(e,t,n){return F.get(e,t,n,"json")},getScript:function(e,t){return F.get(e,void 0,t,"script")}}),F.each(["get","post"],function(e,t){F[t]=function(e,n,i,r){return F.isFunction(n)&&(r=r||i,i=n,n=void 0),F.ajax(F.extend({url:e,type:t,dataType:r,data:n,success:i},F.isPlainObject(e)&&e))}}),F._evalUrl=function(e){return F.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};var zt=/%20/g,Ft=/\[\]$/,Wt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;F.param=function(e,t){var n,i=[],r=function(e,t){t=F.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=F.ajaxSettings&&F.ajaxSettings.traditional),F.isArray(e)||e.jquery&&!F.isPlainObject(e))F.each(e,function(){r(this.name,this.value)});else for(n in e)M(n,e[n],t,r);return i.join("&").replace(zt,"+")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=F.prop(this,"elements");return e?F.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!F(this).is(":disabled")&&Vt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!lt.test(e))}).map(function(e,t){var n=F(this).val();return null==n?null:F.isArray(n)?F.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}}),F.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ut={0:200,1223:204},Xt=F.ajaxSettings.xhr();R.cors=!!Xt&&"withCredentials"in Xt,R.ajax=Xt=!!Xt,F.ajaxTransport(function(e){var t;return R.cors||Xt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Ut[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return F.globalEval(e),e}}}),F.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),F.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=F("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),I.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Gt=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||F.expando+"_"+jt++;return this[e]=!0,e}}),F.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=F.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+r):t.jsonp!==!1&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||F.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(r)),a&&F.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),R.createHTMLDocument=function(){var e=I.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),F.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1),t=t||(R.createHTMLDocument?I.implementation.createHTMLDocument(""):I);var i=G.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=p([e],t,r),r&&r.length&&F(r).remove(),F.merge([],i.childNodes))},F.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=F.trim(e.slice(s)),e=e.slice(0,s)),F.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&F.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?F("<div>").append(F.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){F.fn[t]=function(e){return this.on(t,e)}});var Qt=e.jQuery,Jt=e.$;return F.noConflict=function(t){return e.$===F&&(e.$=Jt),t&&e.jQuery===F&&(e.jQuery=Qt),F},t||(e.jQuery=e.$=F),F}),/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
function(e,t,n,i){"use strict";function r(e,t,n){return setTimeout(c(e,n),t)}function o(e,t,n){return Array.isArray(e)?(a(e,n[t],n),!0):!1}function a(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function s(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e}function u(e,t){return s(e,t,!0)}function l(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&s(i,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==ct?e.apply(t?t[0]||i:i,t):e}function p(e,t){return e===i?t:e}function f(e,t,n){a(v(t),function(t){e.addEventListener(t,n,!1)})}function h(e,t,n){a(v(t),function(t){e.removeEventListener(t,n,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function w(e){return Array.prototype.slice.call(e,0)}function b(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];y(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function T(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),a=0;a<ut.length;){if(n=ut[a],r=n?n+o:t,r in e)return r;a++}return i}function _(){return ht++}function C(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function x(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&n.handler(t)},this.init()}function E(e){var t,n=e.options.inputClass;return new(t=n?n:vt?$:yt?F:gt?B:O)(e,S)}function S(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&xt&&i-r===0,a=t&(St|Dt)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,D(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function D(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=M(t)),r>1&&!n.firstMultiple?n.firstMultiple=M(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=N(i);t.timeStamp=ft(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=L(s,u),t.distance=P(s,u),A(n,t),t.offsetDirection=k(t.deltaX,t.deltaY),t.scale=a?H(a.pointers,i):1,t.rotation=a?q(a.pointers,i):0,j(n,t);var l=e.element;m(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function A(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};(t.eventType===xt||o.eventType===St)&&(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function j(e,t){var n,r,o,a,s=e.lastInterval||t,u=t.timeStamp-s.timeStamp;if(t.eventType!=Dt&&(u>Ct||s.velocity===i)){var l=s.deltaX-t.deltaX,c=s.deltaY-t.deltaY,d=I(u,l,c);r=d.x,o=d.y,n=pt(d.x)>pt(d.y)?d.x:d.y,a=k(l,c),e.lastInterval=t}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}function M(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:dt(e.pointers[n].clientX),clientY:dt(e.pointers[n].clientY)},n++;return{timeStamp:ft(),pointers:t,center:N(t),deltaX:e.deltaX,deltaY:e.deltaY}}function N(e){var t=e.length;if(1===t)return{x:dt(e[0].clientX),y:dt(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:dt(n/t),y:dt(i/t)}}function I(e,t,n){return{x:t/e||0,y:n/e||0}}function k(e,t){return e===t?At:pt(e)>=pt(t)?e>0?jt:Mt:t>0?Nt:It}function P(e,t,n){n||(n=qt);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function L(e,t,n){n||(n=qt);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function q(e,t){return L(t[1],t[0],Ht)-L(e[1],e[0],Ht)}function H(e,t){return P(t[0],t[1],Ht)/P(e[0],e[1],Ht)}function O(){this.evEl=$t,this.evWin=Rt,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function $(){this.evEl=Wt,this.evWin=Bt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Ut,this.evWin=Xt,this.started=!1,x.apply(this,arguments)}function z(e,t){var n=w(e.touches),i=w(e.changedTouches);return t&(St|Dt)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function F(){this.evTarget=Gt,this.targetIds={},x.apply(this,arguments)}function W(e,t){var n=w(e.touches),i=this.targetIds;if(t&(xt|Et)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=w(e.changedTouches),s=[],u=this.target;if(o=n.filter(function(e){return m(e.target,u)}),t===xt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(St|Dt)&&delete i[a[r].identifier],r++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function B(){x.apply(this,arguments);var e=c(this.handler,this);this.touch=new F(this.manager,e),this.mouse=new O(this.manager,e)}function V(e,t){this.manager=e,this.set(t)}function U(e){if(g(e,tn))return tn;var t=g(e,nn),n=g(e,rn);return t&&n?nn+" "+rn:t||n?t?nn:rn:g(e,en)?en:Kt}function X(e){this.id=_(),this.manager=null,this.options=u(e||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function Y(e){return e&cn?"cancel":e&un?"end":e&sn?"move":e&an?"start":""}function G(e){return e==It?"down":e==Nt?"up":e==jt?"left":e==Mt?"right":""}function Q(e,t){var n=t.manager;return n?n.get(e):e}function J(){X.apply(this,arguments)}function Z(){J.apply(this,arguments),this.pX=null,this.pY=null}function K(){J.apply(this,arguments)}function et(){X.apply(this,arguments),this._timer=null,this._input=null}function tt(){J.apply(this,arguments)}function nt(){J.apply(this,arguments)}function it(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(e,t){return t=t||{},t.recognizers=p(t.recognizers,rt.defaults.preset),new ot(e,t)}function ot(e,t){t=t||{},this.options=u(t,rt.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=E(this),this.touchAction=new V(this,this.options.touchAction),at(this,!0),a(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function at(e,t){var n=e.element;a(e.options.cssProps,function(e,i){n.style[T(n.style,i)]=t?e:""})}function st(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ut=["","webkit","moz","MS","ms","o"],lt=t.createElement("div"),ct="function",dt=Math.round,pt=Math.abs,ft=Date.now,ht=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,gt="ontouchstart"in e,vt=T(e,"PointerEvent")!==i,yt=gt&&mt.test(navigator.userAgent),wt="touch",bt="pen",Tt="mouse",_t="kinect",Ct=25,xt=1,Et=2,St=4,Dt=8,At=1,jt=2,Mt=4,Nt=8,It=16,kt=jt|Mt,Pt=Nt|It,Lt=kt|Pt,qt=["x","y"],Ht=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(C(this.element),this.evWin,this.domHandler)}};var Ot={mousedown:xt,mousemove:Et,mouseup:St},$t="mousedown",Rt="mousemove mouseup";l(O,x,{handler:function(e){var t=Ot[e.type];t&xt&&0===e.button&&(this.pressed=!0),t&Et&&1!==e.which&&(t=St),this.pressed&&this.allow&&(t&St&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Tt,srcEvent:e}))}});var zt={pointerdown:xt,pointermove:Et,pointerup:St,pointercancel:Dt,pointerout:Dt},Ft={2:wt,3:bt,4:Tt,5:_t},Wt="pointerdown",Bt="pointermove pointerup pointercancel";e.MSPointerEvent&&(Wt="MSPointerDown",Bt="MSPointerMove MSPointerUp MSPointerCancel"),l($,x,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=zt[i],o=Ft[e.pointerType]||e.pointerType,a=o==wt,s=y(t,e.pointerId,"pointerId");r&xt&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):r&(St|Dt)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Vt={touchstart:xt,touchmove:Et,touchend:St,touchcancel:Dt},Ut="touchstart",Xt="touchstart touchmove touchend touchcancel";l(R,x,{handler:function(e){var t=Vt[e.type];if(t===xt&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(St|Dt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:wt,srcEvent:e})}}});var Yt={touchstart:xt,touchmove:Et,touchend:St,touchcancel:Dt},Gt="touchstart touchmove touchend touchcancel";l(F,x,{handler:function(e){var t=Yt[e.type],n=W.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:wt,srcEvent:e})}}),l(B,x,{handler:function(e,t,n){var i=n.pointerType==wt,r=n.pointerType==Tt;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;t&(St|Dt)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qt=T(lt.style,"touchAction"),Jt=Qt!==i,Zt="compute",Kt="auto",en="manipulation",tn="none",nn="pan-x",rn="pan-y";V.prototype={set:function(e){e==Zt&&(e=this.compute()),Jt&&(this.manager.element.style[Qt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),U(e.join(" "))},preventDefaults:function(e){if(!Jt){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=g(i,tn),o=g(i,rn),a=g(i,nn);return r||o&&n&kt||a&&n&Pt?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var on=1,an=2,sn=4,un=8,ln=un,cn=16,dn=32;X.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Q(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=Q(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=Q(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=Q(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?Y(i):""),e)}var n=this,i=this.state;un>i&&t(!0),t(),i>=un&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=dn)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(dn|on)))return!1;e++}return!0},recognize:function(e){var t=s({},e);return d(this.options.enable,[this,t])?(this.state&(ln|cn|dn)&&(this.state=on),this.state=this.process(t),void(this.state&(an|sn|un|cn)&&this.tryEmit(t))):(this.reset(),void(this.state=dn))},process:function(){},getTouchAction:function(){},reset:function(){}},l(J,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(an|sn),r=this.attrTest(e);return i&&(n&Dt||!r)?t|cn:i||r?n&St?t|un:t&an?t|sn:an:dn}}),l(Z,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Lt},getTouchAction:function(){var e=this.options.direction,t=[];return e&kt&&t.push(rn),e&Pt&&t.push(nn),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&kt?(r=0===o?At:0>o?jt:Mt,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?At:0>a?Nt:It,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return J.prototype.attrTest.call(this,e)&&(this.state&an||!(this.state&an)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=G(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),l(K,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tn]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&an)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),l(et,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Kt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(St|Dt)&&!o)this.reset();else if(e.eventType&xt)this.reset(),this._timer=r(function(){this.state=ln,this.tryEmit()},t.time,this);else if(e.eventType&St)return ln;return dn},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ln&&(e&&e.eventType&St?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),l(tt,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tn]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&an)}}),l(nt,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:kt|Pt,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(kt|Pt)?t=e.velocity:n&kt?t=e.velocityX:n&Pt&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&pt(t)>this.options.velocity&&e.eventType&St},emit:function(e){var t=G(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(it,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[en]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&xt&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=St)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,s=!this.pCenter||P(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var u=this.count%t.taps;if(0===u)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ln,this.tryEmit()},t.interval,this),an):ln}return dn},failTimeout:function(){return this._timer=r(function(){this.state=dn},this.options.interval,this),dn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.4",rt.defaults={domEvents:!1,touchAction:Zt,enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[K,{enable:!1},["rotate"]],[nt,{direction:kt}],[Z,{direction:kt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var pn=1,fn=2;ot.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?fn:pn},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&ln)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],t.stopped===fn||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(an|sn|un)&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(y(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return a(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return a(v(e),function(e){t?n[e].splice(y(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&st(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(rt,{INPUT_START:xt,INPUT_MOVE:Et,INPUT_END:St,INPUT_CANCEL:Dt,STATE_POSSIBLE:on,STATE_BEGAN:an,STATE_CHANGED:sn,STATE_ENDED:un,STATE_RECOGNIZED:ln,STATE_CANCELLED:cn,STATE_FAILED:dn,DIRECTION_NONE:At,DIRECTION_LEFT:jt,DIRECTION_RIGHT:Mt,DIRECTION_UP:Nt,DIRECTION_DOWN:It,DIRECTION_HORIZONTAL:kt,DIRECTION_VERTICAL:Pt,DIRECTION_ALL:Lt,Manager:ot,Input:x,TouchAction:V,TouchInput:F,MouseInput:O,PointerEventInput:$,TouchMouseInput:B,SingleTouchInput:R,Recognizer:X,AttrRecognizer:J,Tap:it,Pan:Z,Swipe:nt,Pinch:K,Rotate:tt,Press:et,on:f,off:h,each:a,merge:u,extend:s,inherit:l,bindFn:c,prefixed:T}),typeof define==ct&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:e[n]=rt}(window,document,"Hammer"),function(e,t){"use strict";/*!
   *
   * App Module: /dom
   *
   * @namespace dom
   * @memberof app
   *
   *
   */
var n={doc:$(t),html:$(t.documentElement),body:$(t.body),page:$(".js-page"),refine:$(".js-refine"),refBtn:$(".js-controller--refine"),navbar:$(".js-navbar"),navBtn:$(".js-controller--navbar"),navItems:$(".js-navbar-item"),overlay:$(".js-overlay")};e.app.dom=n}(window,window.document),function(e,t,n){"use strict";/*!
   *
   * App Controller: detect
   *
   * A nice description of what this controller does...
   *
   *
   */
var i={init:function(){r(),app.log("detect initialized")},isTouch:function(){return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch},teardown:function(){n.html.removeClass("is-touchable is-hoverable")}},r=function(){n.html.addClass(i.isTouch()?"is-touchable":"is-hoverable")};e.app.detect=i}(window,window.document,window.app.dom),function(e,t,n){"use strict";/*!
   *
   * App Module: /config
   *
   * @namespace config
   * @memberof app
   *
   *
   */
var i={easeDuration:600,midiDuration:400,animDuration:800,longDuration:1e3,mobileWidth:768,navbarSize:80,hammerDefaults:n.isTouch()?null:{cssProps:{contentZoomingString:!1,tapHighlightColorString:!1,touchCalloutString:!1,touchSelectString:!1,userDragString:!1,userSelectString:!1}}};e.app.config=i}(window,window.document,window.app.detect),/*!
 *
 * ProperJS Javascript
 * @author: kitajchuk
 * @url: http://blkpdx.com
 * @git: https://github.com/ProperJS
 *
 *
 * The MIT License (MIT)
 * 
 * Copyright (c) 2014 Brandon Lee Kitajchuk
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
function(e){var t={};e.require=function(n){var i=t[n]||e[n];if(!i)throw new Error("Module "+n+" is not defined.");return i},e.provide=function(n,i){return e[n]||(e[n]=i),t[n]=i}}(window),/*!
 *
 * Adapted from https://gist.github.com/paulirish/1579671 which derived from 
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * 
 * requestAnimationFrame polyfill by Erik Mller.
 * Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavi, Darius Bacon
 * 
 * MIT license
 *
 * @raf
 *
 */
function(e){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var t=["webkit","moz","ms","o"],n=0;n<t.length&&!e.requestAnimationFrame;++n){var i=t[n];e.requestAnimationFrame=e[i+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i+"CancelAnimationFrame"]||e[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)||!e.requestAnimationFrame||!e.cancelAnimationFrame){var r=0;e.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(r+16,t);return setTimeout(function(){e(r=n)},n-t)},e.cancelAnimationFrame=clearTimeout}e.raf=e.requestAnimationFrame,e.caf=e.cancelAnimationFrame}()}(window),/*!
 *
 * Event / Animation cycle manager
 *
 * @Controller
 * @author: kitajchuk
 *
 *
 */
function(e){var t=e.requestAnimationFrame,n=e.cancelAnimationFrame,i=function(){return this.init.apply(this,arguments)};i.prototype={constructor:i,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(e){if(this._started&&this._cycle)return this;this._started=!0;var n=this,i=function(){n._cycle=t(i),n._started&&"function"==typeof e&&e()};i()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return n(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(e,t){var n=e.split(" ");t._jsControllerID=this.getUID();for(var i=n.length;i--;)"function"==typeof t&&(this._handlers[n[i]]||(this._handlers[n[i]]=[]),this._handlers[n[i]].push(t));return this},off:function(e,t){return this._handlers[e]?(t?this._off(e,t):this._offed(e),this):this},fire:function(e){if(!this._handlers[e])return this;for(var t=[].slice.call(arguments,1),n=this._handlers[e].length;n--;)this._handlers[e][n].apply(this,t);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(e,t){for(var n=0,i=this._handlers[e].length;i>n;n++)if(t._jsControllerID===this._handlers[e][n]._jsControllerID){this._handlers[e].splice(n,1);break}},_offed:function(e){for(var t=this._handlers[e].length;t--;)this._handlers[e][t]=null;delete this._handlers[e]}},e.provide("Controller",i)}(window),/*!
 *
 * Debounce methods
 * Sourced from here:
 * http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 *
 * @debounce
 * @author: kitajchuk
 *
 */
function(e){"use strict";var t=function(e,t,n){var i=null;return function(){function r(){n||e.apply(a,o),i=null}var o=arguments,a=this;i?clearTimeout(i):n&&e.apply(a,o),i=setTimeout(r,t||100)}};e.provide("debounce",t)}(window),/*!
 *
 * A base set of easing methods
 * Most of which were found here:
 * https://gist.github.com/gre/1650294
 *
 * @Easing
 * @author: kitajchuk
 *
 */
function(e){"use strict";var t={linear:function(e){return e},swing:function(e){return(1-Math.cos(e*Math.PI))/2},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};e.provide("Easing",t)}(window),/*!
 *
 * A simple tween class using requestAnimationFrame
 *
 * @Tween
 * @author: kitajchuk
 *
 */
function(e,t,n){"use strict";var i={ease:t.linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},r=function(e){function t(n){if(!u){null===a&&(a=n);var i=n-a,r=o*e.ease(i/e.duration)+e.from;return"function"==typeof e.update&&e.update(r),i>e.duration?("function"==typeof e.complete&&e.complete(e.to),cancelAnimationFrame(s),s=null,!1):void(s=requestAnimationFrame(t))}}e=e||{};for(var r in i)e[r]===n&&(e[r]=i[r]);var o=e.to-e.from,a=null,s=null,u=!1;setTimeout(function(){s=requestAnimationFrame(t)},e.delay),this.stop=function(){u=!0,cancelAnimationFrame(s),s=null}};e.provide("Tween",r)}(window,window.require("Easing")),/*!
 *
 * A basic scrollto function without all the fuss
 *
 * @scroll2
 * @author: kitajchuk
 *
 */
function(e,t,n,i){"use strict";var r=function(r){var o={x:e.scrollX||document.documentElement.scrollLeft,y:e.scrollY||document.documentElement.scrollTop};return r=r||{},r.ease=r.ease||n.swing,r.duration=r.duration||600,r.from=r.y!==i?o.y:o.x,r.to=r.y!==i?r.y:r.x,r.update=function(t){r.y!==i?e.scrollTo(o.x,t):r.x!==i&&e.scrollTo(t,o.y)},new t(r)};e.provide("scroll2",r)}(window,window.require("Tween"),window.require("Easing")),/*!
 *
 * Window scroll event controller
 *
 * @ScrollController
 * @author: kitajchuk
 *
 *
 */
function(e,t){"use strict";var n=null,i=null,r=function(){return i||(i=this,this.go(function(){var e=i.getScrollY(),t=e!==n,r=n>e,o=e>n,a=e!==n&&i.isScrollMax(),s=e!==n&&i.isScrollMin();t&&i.fire("scroll"),o?i.fire("scrolldown"):r&&i.fire("scrollup"),a?i.fire("scrollmax"):s&&i.fire("scrollmin"),n=e})),i};r.prototype=new t,r.prototype.getScrollY=function(){return e.scrollY||document.documentElement.scrollTop},r.prototype.getScrollMax=function(){return document.documentElement.offsetHeight-e.innerHeight},r.prototype.isScrollMax=function(){return this.getScrollY()>=document.documentElement.offsetHeight-e.innerHeight},r.prototype.isScrollMin=function(){return this.getScrollY()<=0},e.provide("ScrollController",r)}(window,window.require("Controller")),/*!
 *
 * Window resize / orientationchange event controller
 *
 * @ResizeController
 * @author: kitajchuk
 *
 *
 */
function(e,t){"use strict";var n={width:null,height:null,orient:null},i=null,r=function(){return i||(i=this,this.go(function(){var e=i.getViewport(),t=(e.width===n.width&&e.height===n.height,e.width!==n.width||e.height!==n.height),r=e.width>n.width||e.height>n.height,o=e.width<n.width||e.height<n.height,a=e.orient!==n.orient,s=e.orient!==n.orient&&90!==e.orient,u=e.orient!==n.orient&&90===e.orient;t&&i.fire("resize"),o?i.fire("resizedown"):r&&i.fire("resizeup"),a&&i.fire("orientationchange"),s?i.fire("orientationportrait"):u&&i.fire("orientationlandscape"),n=e})),i};r.prototype=new t,r.prototype.getViewport=function(){return{width:e.innerWidth,height:e.innerHeight,orient:"orientation"in e?Math.abs(e.orientation):null}},r.prototype.isPortrait=function(){return 90!==this.getViewport().orient},r.prototype.isLandscape=function(){return 90===this.getViewport().orient},e.provide("ResizeController",r)}(window,window.require("Controller")),/*!
 *
 * Handles history pushstate/popstate with async option
 * If history is not supported, falls back to hashbang!
 *
 * @PushState
 * @author: kitajchuk
 *
 */
function(e,t){"use strict";var n=function(){return this.init.apply(this,arguments)};n.prototype={constructor:n,_rHash:/#/,_rHTTPs:/^http[s]?:\/\/.*?\//,_pushable:"history"in e&&"pushState"in e.history,_hashable:"onhashchange"in e,init:function(n){var i=e.location.href;this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._responses={},this._callbacks={},this._async=n&&n.async!==t?n.async:!0,this._caching=n&&n.caching!==t?n.caching:!0,this._handle404=n&&n.handle404!==t?n.handle404:!0,this._handle500=n&&n.handle500!==t?n.handle500:!0,this._states[i]={uid:this.getUID(),cached:!1},this._stateEnable()},on:function(e,t){"function"==typeof t&&(this._callbacks[e]||(this._callbacks[e]=[]),t._pushstateID=this.getUID(),t._pushstateType=e,this._callbacks[e].push(t))},push:function(t,n){var i=this;return t===e.location.href&&this._stateCached(t)?void n(this._responses[t],200):(this._fire("beforestate"),void(this._stateCached(t)?(this._push(t),n(this._responses[t],200)):(this._states[t]={uid:this.getUID(),cached:!1},this._async?this._getUrl(t,function(e,r){i._push(t),i._fire("afterstate",e,r),"function"==typeof n&&n(e,r)}):(this._push(t),this._fire("afterstate"),"function"==typeof n&&n()))))},goBack:function(){e.history.back(),this._fire("backstate")},goForward:function(){e.history.forward(),this._fire("forwardstate")},getUID:function(){return this._uid=this._uid+1,this._uid},_push:function(t){this._pushable?e.history.pushState(this._states[t],"",t):(this._ishashpushed=!0,e.location.hash=t.replace(this._rHTTPs,""))},_stateCached:function(e){var t=!1;return this._caching&&this._states[e]&&this._states[e].cached&&this._responses[e]&&(t=!0),t},_cacheState:function(e,t){this._caching&&(this._states[e].cached=!0,this._responses[e]=t)},_getUrl:function(e,n){var i=function(i,r){try{o._cacheState(e,i),"function"==typeof n&&n(i,r?r:t)}catch(a){}},r=new XMLHttpRequest,o=this;r.open("GET",e,!0),r.onreadystatechange=function(){4===this.readyState&&(200===this.status?i(this,200):404===this.status&&o._handle404?i(this,404):500===this.status&&o._handle500&&i(this,500))},r.send()},_fire:function(e){if(this._callbacks[e])for(var t=this._callbacks[e].length;t--;)this._callbacks[e][t].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var t=this,n=function(){var n=e.location.href.replace(t._rHash,"/");t._stateCached(n)?t._fire("popstate",n,t._responses[n]):t._getUrl(n,function(e,i){t._fire("popstate",n,e,i)})};this._enabled=!0,this._pushable?e.addEventListener("popstate",function(){n()},!1):this._hashable&&e.addEventListener("hashchange",function(){t._ishashpushed?t._ishashpushed=!1:n()},!1)}},e.provide("PushState",n)}(window),/*!
 *
 * Parse query string into object literal representation
 *
 * @compat: jQuery, Ender, Zepto
 * @author: @kitajchuk
 *
 *
 */
function(e,t){"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.$)}(function(n){var i=function(e){var t=decodeURIComponent(e).match(/[#|?].*$/g),n={};if(t){t=t[0].replace(/^\?|^#|^\/|\/$|\[|\]/g,""),t=t.split("&");for(var i=t.length;i--;){var r=t[i].split("="),o=r[0],a=r[1];n[o]?("[object Array]"!=={}.toString.call(n[o])&&(n[o]=[n[o]]),n[o].push(a)):n[o]=a}}return n};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.paramalama=i,n!==t&&(n.paramalama=i))})}(this),/*!
 *
 * Handles wildcard route matching against urls with !num and !slug condition testing
 *
 * @MatchRoute
 * @author: kitajchuk
 *
 */
function(e,t){"use strict";var n=function(){return this.init.apply(this,arguments)};n.prototype={constructor:n,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(e){this._routes=e?this._cleanRoutes(e):[]},getRoutes:function(){return this._routes},config:function(e){return e="string"==typeof e?[e]:e,this._routes=this._routes.concat(this._cleanRoutes(e)),this},test:function(e){return this.parse(e,this._routes).matched},params:function(e){return this.parse(e,this._routes).params},compare:function(e,t){return this.parse(t,[e])},parse:function(e,n){for(var i,r,o,a,s,u,l,c,d=this._cleanRoute(e),p=d.split("/"),f=p.length,h=n.length,m=0;h>m;m++){if(r="*"===n[m],c={matched:!1,route:null,uri:[],params:{},query:t(e)},s=n[m].split("/"),"/"===d&&"/"===n[m]){c.matched=!0,c.route=n[m],c.uri="/";break}if(s.length===p.length||r){i=0;for(var g=0;f>g;g++)this._rWild.test(s[g])?(o=s[g].split("!"),a=o[0],l=o[1],l?(this._wilders[l]&&(u=this._wilders[l]),u&&u.test(p[g])&&(i++,c.params[a.replace(this._rWild,"")]=p[g],c.uri.push(p[g]))):(i++,c.params[a.replace(this._rWild,"")]=p[g],c.uri.push(p[g]))):p[g]===s[g]&&(i++,c.uri.push(p[g]));if(i===p.length||r){c.matched=!0,c.route=n[m],c.uri=r?d:c.uri.join("/");break}}}return c},_cleanRoute:function(e){return"/"!==e&&(e=e.replace(this._rHTTPs,""),e=e.replace(this._rTrails,""),e=e.replace(this._rHashQuery,""),e=e.replace(this._rTrails,"")),""===e&&(e="/"),e},_cleanRoutes:function(e){for(var t=e.length;t--;)e[t]=this._cleanRoute(e[t]);return e}},e.provide("MatchRoute",n)}(window,window.paramalama),/*!
 *
 * Use native element selector matching
 *
 * @matchElement
 * @author: kitajchuk
 *
 */
function(e){"use strict";var t=function(e,n){var i=e.matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":null;return i&&e[i].call(e,n)?e:e!==document.documentElement&&e.parentNode?t(e.parentNode,n):null};e.provide("matchElement",t)}(window),/*!
 *
 * Handles basic get routing
 *
 * @Router
 * @author: kitajchuk
 *
 */
function(e,t,n,i){"use strict";var r,o=new RegExp(document.domain),a=200,s=function(){return this.init.apply(this,arguments)};s.prototype={constructor:s,init:function(e){this._matcher=new n,this._pusher=null,this._callbacks={},this._options=e,this._uid=0},bind:function(){var n=this,i=!1;document.addEventListener?document.addEventListener("click",function(e){n._handler(this,e)},!1):document.attachEvent&&document.attachEvent("onclick",function(e){n._handler(this,e)}),this._pusher=new t(this._options),this._pusher.on("popstate",function(e,t,r){if(i){for(var o=n._callbacks.get.length;o--;){var a=n._matcher.parse(e,n._callbacks.get[o]._routerRoutes);if(a.matched)break}t={route:n._matcher._cleanRoute(e),response:t,request:a,status:r||t.status},n._fire("popget",e,t,r)}else i=!0}),setTimeout(function(){n._pusher.push(e.location.href,function(t,r){n._fire("get",e.location.href,t,r),i=!0})},a)},on:function(e,t){this._bind(e,t)},off:function(e,t){this._unbind(e,t)},trigger:function(e){r||(r=document.createElement("a")),r.href=e,this._handler(r,{target:r})},get:function(e,t){this._matcher.config([e]),t._routerRoutes?t._routerRoutes.push(e):t._routerRoutes=[e],1===t._routerRoutes.length&&this._bind("get",t)},getRouteForUrl:function(e){return this._matcher._cleanRoute(e)},getRouteDataForUrl:function(e){return this._matcher.parse(e,this._matcher.getRoutes()).params},getUID:function(){return this._uid=this._uid+1,this._uid},_preventDefault:function(e){return this._options.preventDefault?void(e.preventDefault?e.preventDefault():e.returnValue=!1):this},_handler:function(e,t){var n=this,r=i(e,"a")||i(t.target,"a");if(r&&o.test(r.href)&&-1===r.href.indexOf("#")&&this._matcher.test(r.href)){this._preventDefault(t);for(var a=this._callbacks.get.length;a--;){var s=this._matcher.parse(r.href,this._callbacks.get[a]._routerRoutes);if(s.matched){this._fire("preget",r.href,s);break}}this._pusher.push(r.href,function(e,t){n._fire("get",r.href,e,t)})}},_bind:function(e,t){"function"==typeof t&&(this._callbacks[e]||(this._callbacks[e]=[]),t._jsRouterID=this.getUID(),this._callbacks[e].push(t))},_unbind:function(e,t){if(!this._callbacks[e])return this;if(t){for(var n=0,i=this._callbacks[e].length;i>n;n++)if(t._jsRouterID===this._callbacks[e][n]._jsRouterID){this._callbacks[e].splice(n,1);break}}else{for(var r=this._callbacks[e].length;r--;)this._callbacks[e][r]=null;delete this._callbacks[e]}},_fire:function(e,t,n,i){var r;if("get"===e)for(r=this._callbacks[e].length;r--;){var o=this._matcher.parse(t,this._callbacks[e][r]._routerRoutes);o.matched&&this._callbacks[e][r].call(this,{route:this._matcher._cleanRoute(t),response:n,request:o,status:i})}else if(this._callbacks[e])for(r=this._callbacks[e].length;r--;)this._callbacks[e][r].call(this,n)}},e.provide("Router",s)}(window,window.PushState,window.MatchRoute,window.matchElement),/*!
 *
 * Asynchronous webpage transitioning with pushstate management.
 *
 * @PageController
 * @author: kitajchuk
 *
 * @module
 * - init
 * - isActive
 * - onload
 * - unload
 *
 *
 */
function(e,t,n){"use strict";var i=null,r=[],o=[],a={active:[],inactive:[]},s=!1,u=null,l=600,c=null,d="page-controller-",p=null,f=!0,h=null,m=null,g=!1,v=null,y=function(e){return"function"==typeof e},w=function(){for(var e=o.length;e--;)o[e].__registered&&!o[e].__initialized&&y(o[e].init)&&(o[e].__initialized=!0,o[e].init())},b=function(){for(var e=a.active.length;e--;)a.active[e].__registered&&y(a.active[e].unload)&&a.active[e].unload()},T=function(){for(var e=a.active.length;e--;)a.active[e].__registered&&y(a.active[e].onload)&&a.active[e].onload()},_=function(e){var t,n=e.uri;for(t in e.query)n+="-"+t+"-"+e.query[t];for(t in e.params)n+="-"+t+"-"+e.params[t];return n},C=function(){a.active=[],a.inactive=[];for(var e=o.length;e--;){var t=o[e];o[e].__registered&&y(t.isActive)&&(t.isActive()?a.active.push(t):a.inactive.push(t))}v.fire(d+"router-synced-modules",a)},x=function(e){function t(){Date.now()-c>=v._transitionTime&&(v.stop(),D(e))}v.go(t)},E=function(e){S(e.request),setTimeout(function(){D(e)},v._transitionTime)},S=function(e){var t=m===_(e);return t?(v.fire(d+"router-samepage",e),void(g=!0)):(u=Date.now(),void(f||v.fire(d+"router-transition-out",e)))},D=function(e){if(g)return void(g=!1);var t={response:e.response.responseText,request:e.request,status:e.status};p=t.request.uri,h=t.request.query,m=_(t.request),f?(f=!1,C(),T()):setTimeout(function(){C(),b(),v.fire(d+"router-refresh-document",t.response),C(),T(),v.fire(d+"router-transition-in",t)},v._transitionTime)},A=function(e){return v||(v=this,e=e||{},this._transitionTime=e.transitionTime||l,this._routerOptions=e.routerOptions||{async:!0,caching:!0,preventDefault:!0}),v};A.prototype=new t,A.prototype.initPage=function(){if(!s&&(s=!0,i=new n(this._routerOptions),i._matcher.parse(e.location.href,r).matched)){i.bind();for(var t=r.length;t--;)i.get(r[t],x);i.on("preget",S),i.on("popget",E),w()}},A.prototype.setConfig=function(e){r=e},A.prototype.setModules=function(e){if(e)for(var t=e.length;t--;)this.addModule(e[t])},A.prototype.addModule=function(e){if(!(-1===o.indexOf(e)&&y(e.isActive)&&y(e.onload)&&y(e.unload)))throw new Error("PageController ERROR - All registered modules require isActive, onload and unload methods.");e.__registered=!0,o.push(e)},A.prototype.unregisterModule=function(e){for(var t=o.length;t--;)o[t]===e&&(o[t].__registered=!1)},A.prototype.getModules=function(){return o},A.prototype.getConfig=function(){return r},A.prototype.getRouter=function(){return i},A.prototype.getPusher=function(){return i._pusher},A.prototype.getMatcher=function(){return i._matcher},A.prototype.getRoute=function(){return p},A.prototype.getQuery=function(){return h},A.prototype.is=function(e,t){var n,i=!1;return n=new RegExp(t?"^"+e:"^"+e+"$"),i=n.test(p)},e.provide("PageController",A)}(window,window.require("Controller"),window.require("Router")),/*!
 *
 * Handle lazy-loading images with contextual load conditions.
 *
 * @ImageLoader
 * @author: kitajchuk
 *
 *
 */
function(e,t){"use strict";function n(e){return"string"==typeof e?e=t.querySelectorAll(e):e&&1===e.nodeType?e=[e]:e||(e=[]),e}function i(e){c+=e._num2Load,h.push(e),f||(f=!0,r())}function r(){if(d!==c)for(p=u(r),s=h.length;s--;)h[s]._numLoaded!==h[s]._num2Load&&"async"===h[s]._loadType&&h[s].handle();else l(p),p=null,f=!1}function o(e,t){for(var n=t.split(" "),i=e.className.split(" "),r=0,o=n.length;o>r;r++)-1===i.indexOf(n[r])&&i.push(n[r]);e.className=i.join(" ")}function a(e,t){for(var n=t.split(" "),i=e.className.split(" "),r=0,o=n.length;o>r;r++)-1!==i.indexOf(n[r])&&i.splice(i.indexOf(n[r]),1);e.className=i.join(" ")}var s,u=e.requestAnimationFrame,l=e.cancelAnimationFrame,c=0,d=0,p=null,f=!1,h=[],m=function(){return this.init.apply(this,arguments)};m.IS_LOADING="-is-lazy-loading",m.IS_TRANSITION="-is-lazy-transition",m.IS_LOADED="-is-lazy-loaded",m.IS_HANDLED="-is-lazy-handled",m.prototype={constructor:m,init:function(e){if(!e)throw new Error("ImageLoader Class requires options to be passed");return this._elements=n(e.elements),this._property=e.property||"data-src",this._loadType=e.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=e.transitionDelay||100,this._transitionDuration=e.transitionDuration||600,this._resolved=!1,this._handlers={data:null,load:null,done:null,error:null,update:null},this._elements.length?void("async"===this._loadType?i(this):this._syncLoad()):this},on:function(e,t){return this._handlers[e]=t,this},fire:function(e,t){var n=!1;return"function"==typeof this._handlers[e]&&(n=this._handlers[e].call(this,t)),n},update:function(){for(var e=0,t=this._elements.length;t>e;e++){var n=this._elements[e];this.fire("update",n)}},load:function(e,t){var n=this,i=null,r=null,s="img"===e.nodeName.toLowerCase(),u=e.getAttribute(this._property);return e.setAttribute("data-imageloader",!0),o(e,m.IS_LOADING),i=s?e:new Image,r=setTimeout(function(){clearTimeout(r),o(e,m.IS_TRANSITION),i.onload=function(){n.fire("load",e),s||(e.style.backgroundImage="url("+u+")",i=null),o(e,m.IS_LOADED),r=setTimeout(function(){clearTimeout(r),a(e,m.IS_LOADING+" "+m.IS_TRANSITION+" "+m.IS_LOADED),o(e,m.IS_HANDLED),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof t&&t(!1):(n._resolved=!0,n.fire("done"))},n._transitionDuration)},i.onerror=function(){n.fire("error",e),n._numLoaded!==n._num2Load||n._resolved?"function"==typeof t&&t(!0):(n._resolved=!0,n.fire("done"))},i.src=u},this._transitionDelay),this},handle:function(){for(var e=this._getNotLoaded(),t=this,n=0,i=e.length;i>n;n++){var r=e[n];t.fire("data",r)&&(d++,t._numLoaded++,t.load(r))}},_getNotLoaded:function(){for(var e=[],t=0,n=this._elements.length;n>t;t++)this._elements[t].getAttribute("data-imageloader")||e.push(this._elements[t]);return e},_syncLoad:function(){function e(){var n=t._elements[t._numLoaded];t._numLoaded++,t.load(n,function(n){n||t._resolved||e()})}var t=this;e()}},e.provide("ImageLoader",m)}(window,window.document),/*!
 *
 * A lightweight manager for HTML5 audio and video.
 *
 * @MediaBox
 * @singleton
 * @author: kitajchuk
 *
 * @useful web pages with information on this stuffs
 * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video
 * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio
 * https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement
 *
 */
function(e,t,n,i){"use strict";var r=/[#|?].*$/g,o=/^no$/,a=function(e){return"function"==typeof e},s=function(){var e=t.createElement("audio"),n={};try{e.canPlayType&&(n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(o,""),n.mp3=e.canPlayType("audio/mpeg;").replace(o,""),n.opus=e.canPlayType('audio/ogg; codecs="opus"').replace(o,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(o,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(o,""))}catch(i){}return n},u=function(){var e=t.createElement("video"),n={};try{e.canPlayType&&(n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(o,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,""),n.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(o,""),n.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,""))}catch(i){}return n},l=function(e,t){var n,i=t.split(".").pop().toLowerCase().replace(r,"");if("video"===e)switch(i){case"webm":n="video/webm";break;case"mp4":case"m4v":n="video/mp4";break;case"ogv":n="video/ogg"}else switch(i){case"aac":n="audio/aac";break;case"m4a":n="audio/x-m4a";break;case"mp4":n="audio/mp4";break;case"mp1":case"mp2":case"mp3":case"mpg":case"mpeg":n="audio/mpeg";break;case"oga":case"ogg":n="audio/ogg";break;case"wav":n="audio/wav"}return n},c=function(e,t){for(var n,i,o=0,a=t.length;a>o;o++){var s=t[o].split(".").pop().toLowerCase().replace(r,"");if("probably"===T.support[e][s]||"maybe"===T.support[e][s]){n=t[o],i=T.support[e][s];break}if(!("ogv"!==s&&"oga"!==s||"probably"!==T.support[e].ogg&&"maybe"!==T.support[e].ogg)){n=t[o],i=T.support[e].ogg;break}if(!("mp4"!==s&&"m4v"!==s||"probably"!==T.support[e].h264&&"maybe"!==T.support[e].h264)){n=t[o],i=T.support[e].h264;break}if("aac"===s&&("probably"===T.support[e].m4a||"maybe"===T.support[e].m4a)){n=t[o],i=T.support[e].m4a;break}if(!("mp1"!==s&&"mp2"!==s&&"mpg"!==s&&"mpeg"!==s||"probably"!==T.support[e].mp3&&"maybe"!==T.support[e].mp3)){n=t[o],i=T.support[e].mp3;break}if(n)break}return{source:n,canPlay:i}},d=function(e){try{clearInterval(e._update),e._update=null}catch(t){}},p=function(){var t;return e.AudioContext?t=e.AudioContext:e.webkitAudioContext&&(t=e.webkitAudioContext),t?new t:t},f=function(e,t,n){var i=new XMLHttpRequest;if(i.open("GET",e,!0),t)for(var r in t)i[r]=t[r];return i.onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{t.responseType||(this.responseJSON=JSON.parse(this.responseText)),a(n)&&n(this)}catch(e){throw new Error([e.name,e.message].join(" : "))}},i.send(),i},h=function(){y=this},m={bgm:{volume:1},sfx:{volume:1},vid:{volume:1}},g={},v={},y=null,w=1e3/60,b=p(),T=function(){return y||h.apply(this,arguments)};T.support={audio:s(),video:u()},T.STATE_STOPPED=0,T.STATE_STOPPING=1,T.STATE_PAUSED=2,T.STATE_PLAYING=3,T.prototype={constructor:T,isLoaded:function(e){var t=this.getMedia(e);return t.loaded===!0},isStopped:function(e){var t=this.getMedia(e);return t.state===T.STATE_STOPPED},isPaused:function(e){var t=this.getMedia(e);return t.state===T.STATE_PAUSED},isPlaying:function(e){var t=this.getMedia(e);return t.state===T.STATE_PLAYING||t.state===T.STATE_STOPPING},setVolume:function(e,t){var n=this.getMedia(e);return n._node.volume=t,y},getVolume:function(e){var t=this.getMedia(e);return t._node.volume},getMediaProp:function(e,t){var n=this.getMedia(e);return n?n._node[t]:void 0},setMediaProp:function(e,t,n){var i=this.getMedia(e);return i&&(i._node[t]=n),y},getMediaAttr:function(e,t){var n=this.getMedia(e);return n?n._node.getAttribute(t):void 0},setMediaAttr:function(e,t,n){var i=this.getMedia(e);return i&&i._node.setAttribute(t,n),y},addMediaEvent:function(e,t,n){var i=this.getMedia(e);if(i){if("timeupdate"===t)return i._events.timeupdate=n,y;i._events[t]=function(){a(n)&&n.apply(this,arguments)},i._node.addEventListener(t,i._events[t],!1)}return y},removeMediaEvent:function(e,t){var n=this.getMedia(e);return n&&("timeupdate"===t&&d(n),n._node.removeEventListener(t,n._events[t],!1),n._events[t]=null),y},playMedia:function(e){var t=this.getMedia(e);return t&&this.isLoaded(e)&&(this.isStopped(e)||this.isPaused(e))&&(t._node.volume=m[t.channel].volume,t._node.play(),t.state=T.STATE_PLAYING,t._update||(t._update=setInterval(function(){a(t._events.timeupdate)&&t._events.timeupdate.call(t._node,null)},w))),y},pauseMedia:function(e){var t=this.getMedia(e);return t&&this.isLoaded(e)&&this.isPlaying(e)&&(t._node.pause(),t.state=T.STATE_PAUSED,d(t)),y},stopMedia:function(e){var t=this.getMedia(e);return t&&this.isLoaded(e)&&this.isPlaying(e)&&(t._node.pause(),t.state=T.STATE_STOPPED,d(t)),y},getMedia:function(e){return v[e]?v[e]:g[e]},getAudios:function(){return g},getVideos:function(){return v},destroyMedia:function(e){var t=this.getMedia(e);return this.stopMedia(e),"audio"===t.type?delete g[e]:delete v[e],y},loadMedia:function(e,t){var n=this;return f(e,null,function(e){n.addMedia(e.responseJSON),a(t)&&t()}),y},addMedia:function(e){for(var t in e)for(var n=e[t].length;n--;)a(this[t])&&this[t](e[t][n]);return y},addVideo:function(e){var n=e.id,i=e.src,r={element:e.element,channel:e.channel};return!v[n]&&n&&i?(m[r.channel]||(m[r.channel]={}),v[n]={},v[n].type="video",v[n].state=T.STATE_STOPPED,v[n].loaded=!0,v[n].channel=r.channel,v[n].sources=i,v[n]._source=c("video",i),v[n]._events={},v[n]._update=null,v[n]._node=r.element||t.createElement("video"),v[n]._nodeSource=t.createElement("source"),v[n]._nodeSource.src=v[n]._source.source,v[n]._nodeSource.type=l("video",v[n]._source.source),v[n]._node.appendChild(v[n]._nodeSource),y):y},addAudio:function(e){var t=e.id,n=e.src,i={channel:e.channel,CORS:e.CORS||!1};return!g[t]&&t&&n?(m[i.channel]||(m[i.channel]={}),g[t]={},g[t].type="audio",g[t].state=T.STATE_STOPPED,g[t].loaded=!0,g[t].channel=i.channel,g[t].sources=n,g[t]._source=c("audio",n),g[t]._events={},g[t]._update=null,g[t]._node=new Audio(g[t]._source.source),a(e.onloaded)&&!i.CORS&&f(g[t]._source.source,{responseType:"arraybuffer"},function(t){b.decodeAudioData(t.response,e.onloaded)}),y):y},fadeVolumeIn:function(e,t,r){var o,s=this.getMedia(e),u=this;return s&&s.state===T.STATE_PLAYING?y:(s&&(o=m[s.channel].volume,s.state===T.STATE_STOPPED?(this.playMedia(e),this.setVolume(e,0)):s.state===T.STATE_STOPPING&&(s.state=T.STATE_PLAYING),new i({to:o,from:0,ease:a(r)?r:n.linear,duration:t||1e3,update:function(t){u.setVolume(e,t)},complete:function(){u.setVolume(e,o)}})),y)},fadeVolumeOut:function(e,t,r){var o=this.getMedia(e);if(o&&o.state===T.STATE_STOPPING)return y;var s=this,u=function(t){o.state===T.STATE_STOPPING&&(s.setVolume(e,0>t?0:t),0===s.getVolume(e)&&s.stopMedia(e))};return o&&(o.state=T.STATE_STOPPING,new i({to:0,from:s.getVolume(e),ease:a(r)?r:n.linear,duration:t||1e3,update:u,complete:u})),y},stopChannel:function(e){var t;for(t in v)v[t].channel===e&&v[t].state===T.STATE_PLAYING&&this.pauseMedia(t);for(t in g)g[t].channel===e&&g[t].state===T.STATE_PLAYING&&this.pauseMedia(t);return y},playChannel:function(e){var t;for(t in v)v[t].channel===e&&v[t].state===T.STATE_PAUSED&&this.playMedia(t);for(t in g)g[t].channel===e&&g[t].state===T.STATE_PAUSED&&this.playMedia(t);return y},fadeChannelOut:function(e,t){var n;for(n in v)v[n].channel===e&&v[n].state===T.STATE_PLAYING&&this.fadeVolumeOut(n,t);for(n in g)g[n].channel===e&&g[n].state===T.STATE_PLAYING&&this.fadeVolumeOut(n,t);return y},fadeChannelIn:function(e,t){var n;for(n in v)v[n].channel===e&&v[n].state===T.STATE_STOPPED&&this.fadeVolumeIn(n,t);for(n in g)g[n].channel===e&&g[n].state===T.STATE_STOPPED&&this.fadeVolumeIn(n,t);return y},crossFadeChannel:function(e,t,n){var i;for(i in v)v[i].channel===e&&v[i].state===T.STATE_PLAYING&&this.fadeVolumeOut(i,n);for(i in g)g[i].channel===e&&g[i].state===T.STATE_PLAYING&&this.fadeVolumeOut(i,n);return this.fadeVolumeIn(t,n)},setChannelProp:function(e,t,n){return m[e]&&(m[e][t]=n),y},getChannelProp:function(e,t){return m[e]?m[e][t]:void 0}},e.provide("MediaBox",T)}(window,window.document,window.require("Easing"),window.require("Tween")),/*!
 *
 * A stepped timeout manager
 *
 * @Stagger
 * @author: kitajchuk
 *
 */
function(e){"use strict";var t=function(){return this.init.apply(this,arguments)};t.prototype={constructor:t,init:function(e){this._step=null,this._when={},this._done=null,this._delay=e.delay||250,this._current=0,this._occurrences=e.steps||0,this._timeout=null,this._paused=!1,this._started=!1,this._resolved=!1},step:function(e){return"function"==typeof e&&(this._step=e),this},when:function(e,t){return"function"==typeof t&&(this._when[e]=t),this},done:function(e){return"function"==typeof e&&(this._done=e),this},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},start:function(){return this.play()._stagger(),this},_resolve:function(){return this._resolved=!0,this._timeout=null,this},_stagger:function(){if(this._started)return this;this._started=!0;var e=this,t=function(){e._timeout=setTimeout(function(){return clearTimeout(e._timeout),e._resolved?void(e._timeout=null):e._paused?void t():("function"==typeof e._step&&e._step(e._current),"function"==typeof e._when[e._current]&&e._when[e._current](e._current),e._current++,void(e._current===e._occurrences?(e._resolve(),"function"==typeof e._done&&e._done()):t()))},e._delay)};t()}},e.provide("Stagger",t)}(window),/*!
 *
 * Hammerjs event delegation wrapper
 * http://eightmedia.github.io/hammer.js/
 *
 * @Hammered
 * @author: kitajchuk
 *
 *
 */
function(e,t,n){"use strict";if(!t)throw new Error("Hammered Class requires Hammerjs!");var i=function(){return this.init.apply(this,arguments)};i.prototype={constructor:i,init:function(e,n){this._version="0.2.0",this._handlers={},this._hammer=new t(e||document.body,n)},getInstance:function(){return this._hammer},getHandlers:function(){return this._handlers},on:function(e,t,i){var r="Hammered"+(this._version+Math.random()+(e+"-"+t)).replace(/\W/g,""),o=function(e){var r=n(e.target,t);r&&i.call(r,e)};o._hammerUID=r,i._hammerUID=r,this._hammer.on(e,o),this._handlers[r]=o},off:function(e,t){var n;for(n in this._handlers)if(n===t._hammerUID&&this._handlers[n]._hammerUID===t._hammerUID){this._hammer.off(e,this._handlers[n]),delete this._handlers[n];break}}},e.provide("Hammered",i)}(window,window.require("Hammer"),window.require("matchElement")),function(e,t,n){"use strict";/*!
   *
   * App Module: /util
   *
   * @namespace util
   * @memberof app
   *
   *
   */
var i=require("Controller"),r=require("ScrollController"),o=require("ResizeController"),a=require("ImageLoader"),s=require("MediaBox"),u=function(e){return e+"px"},l=function(e,t,n,i){e&&(e.style[Hammer.prefixed(e.style,"transform")]="translate3d("+t+","+n+","+i+")")},c=new s,d=new i,p=new r,f=new o,h=function(t){var n=t.getBoundingClientRect();return n.top<2*e.innerHeight},m=function(t){var n=t.getBoundingClientRect();return n.top<e.innerHeight&&n.bottom>0},g=function(e,t,n){return t=t||h,e=e||$(".js-lazy-image"),n=n||"async",new a({elements:e,property:"data-img-src",loadType:n,transitionDelay:0}).on("data",t)},v=function(e){e?n.doc.off("DOMMouseScroll mousewheel"):n.doc.on("DOMMouseScroll mousewheel",function(e){return e.preventDefault(),!1})},y=function(e){e?n.doc.off("touchmove"):n.doc.on("touchmove",function(e){return e.preventDefault(),!1})},w=function(t){var n,i;for(t=t||$(".js-resize"),i=t.length;i--;)n=t[i].dataset,"fullscreen"===n.resize&&(t[i].style.height=u(e.innerHeight))},b=function(e,t,n,i){var r=Math.min(n/e,i/t);return{width:e*r,height:t*r}},T=function(e){if(!e)return 0;var t=getComputedStyle(e)[Hammer.prefixed(e.style,"transition-duration")],n=-1===t.indexOf("ms"),i=n?1e3:1;return parseFloat(t)*i},_=function(e){if(!e)return null;var t=getComputedStyle(e)[Hammer.prefixed(e.style,"transform")],n=t.replace(/matrix|3d|\(|\)|\s/g,"").split(","),i={};return"none"===n[0]?(i.x=0,i.y=0,i.z=0):16===n.length?(i.x=parseFloat(n[12]),i.y=parseFloat(n[13]),i.z=parseFloat(n[14])):(i.x=parseFloat(n[4]),i.y=parseFloat(n[5]),i.z=0),i},C=function(e,t){return e?parseFloat(getComputedStyle(e)[t]):void 0},x=function(){return!0},E=function(e){var t,n,i;for(n=e.length-1;n>0;n--)i=Math.floor(Math.random()*(n+1)),t=e[n],e[n]=e[i],e[i]=t;return e},S=function(e,t){var n,i=[];for(n=0;t>n;n++)i.push(e.slice(n*t,n*t+t));return i},D=function(e){e=1e3*e;var t=parseInt(e/6e4,10),n=parseInt(e/1e3,10)%60;return 10>n&&(n="0"+n),t+":"+n};e.app.util.mediabox=c,e.app.util.emitter=d,e.app.util.scroller=p,e.app.util.resizer=f,e.app.util.loadImages=g,e.app.util.isElementLoadable=h,e.app.util.isElementInViewport=m,e.app.util.toggleMouseWheel=v,e.app.util.toggleTouchMove=y,e.app.util.px=u,e.app.util.noop=x,e.app.util.shuffle=E,e.app.util.parseTime=D,e.app.util.splitArray=S,e.app.util.resizeElems=w,e.app.util.translate3d=l,e.app.util.calculateAspectRatioFit=b,e.app.util.getTransitionDuration=T,e.app.util.getTransformValues=_,e.app.util.getNumericStyleValue=C}(window,window.document,window.app.dom,window.app.config,window.app.detect),function(e,t,n,i){"use strict";/*!
   *
   * App Controller: resizes
   *
   * A nice description of what this controller does...
   *
   *
   */
var r=i.emitter,o=i.resizer,a=i.resizeElems,s=!1,u=!1,l=e.innerWidth<=n.mobileWidth,c=e.innerHeight>e.innerWidth,d={init:function(){o.on("resize",p),r.on("app--do-resize",p),p(),app.log("resizes initialized")},isSmall:function(){return l},isTall:function(){return c},teardown:function(){o.off("resize",p),r.off("app--do-resize",p)}},p=function(){a(),l=e.innerWidth<=n.mobileWidth,c=e.innerHeight>e.innerWidth,l&&!s?(s=!0,r.fire("app--resize-small")):!l&&s&&(s=!1,r.fire("app--resize-normal")),c&&!u?(u=!0,r.fire("app--resize-tall")):!c&&u&&(u=!1,r.fire("app--resize-wide")),r.fire("app--resize")};e.app.resizes=d}(window,window.document,window.app.config,window.app.util),function(e,t,n,i,r){"use strict";/*!
   *
   * App Controller: navbar
   *
   * A nice description of what this controller does...
   *
   *
   */
var o=i.hammerDefaults,a=r.loadImages,s=r.toggleMouseWheel,u=r.toggleTouchMove,l=r.emitter,c=!1,d=require("Hammered"),p={},f={init:function(){p.navbar=new d(n.navbar[0],o),p.navbar.on("tap",".js-navbar-item",m),p.overlay=new d(n.overlay[0],o),p.overlay.on("tap",".js-overlay",g),p.navBtn=new d(n.navBtn[0],o),p.navBtn.on("tap",".js-controller--navbar",v),a(n.navbar.find(".js-lazy-image")),h(n.navBtn.filter(".is-active")),app.log("navbar initialized")},close:function(){g()},clearActive:function(){n.navItems.removeClass("is-active")}},h=function(e){var t=e.data("topic");t&&l.fire("app--refine-topic",t)},m=function(){var e=$(this);n.navItems.removeClass("is-active"),e.addClass("is-active"),h(e)},g=function(){c=!1,n.html.removeClass("is-navbar-open"),u(!0),s(!0)},v=function(){c?g():(c=!0,u(!1),s(!1),n.html.addClass("is-navbar-open"))};e.app.navbar=f}(window,window.document,window.app.dom,window.app.config,window.app.util),function(e,t,n,i,r){"use strict";/*!
   *
   * App Controller: scrolls
   *
   * A nice description of what this controller does...
   *
   *
   */
var o=r.scroller,a=r.emitter,s=r.noop,u=null,l=300,c=!1,d={name:"scrolls",init:function(){app.log("scrolls initialized")},isActive:s,onload:function(){o.on("scroll",m),o.on("scrollup",f),o.on("scrolldown",h),a.on("app--do-scroll",m),m(),this.topout()},unload:function(){this.teardown()},topout:function(t){t=t||0,e.scrollTo(0,t)},teardown:function(){o.off("scroll",m),o.off("scrollup",f),o.off("scrolldown",h),a.off("app--do-scroll",m)},clearStates:function(){n.html.removeClass("is-scrolling-up is-scrolling-down is-scrolling")}},p=function(e){if(!i.isTouch()){try{clearTimeout(u)}catch(t){}c||(c=!0,n.html.addClass("is-scrolling"),a.fire("app--scroll-start")),u=setTimeout(function(){e===o.getScrollY()&&(c=!1,n.html.removeClass("is-scrolling"),a.fire("app--scroll-end"))},l)}},f=function(){o.getScrollY()<=0||i.isTouch()||n.html.removeClass("is-scrolling-down").addClass("is-scrolling-up")},h=function(){o.getScrollY()<=0||i.isTouch()||n.html.removeClass("is-scrolling-up").addClass("is-scrolling-down")},m=function(){var e=o.getScrollY();p(e),a.fire("app--scroll",e)};e.app.scrolls=d}(window,window.document,window.app.dom,window.app.detect,window.app.util),function(e,t,n,i,r){"use strict";/*!
   *
   * App Controller: loader
   *
   * A nice description of what this controller does...
   *
   *
   */
var o=i.navbarSize,a=i.midiDuration,s=i.hammerDefaults,u=r.px,l=r.translate3d,c=r.scroller,d=r.emitter,p=n.body.find(".js-controller--load"),f=!1,h=require("Hammered"),m=null,g={init:function(){d.on("app--scroll",w),m=new h(p[0],s),m.on("tap",".js-controller--load",y),app.log("loader initialized")},reset:function(){f=!1,p.removeClass("is-inactive"),v()},activate:function(e){f=e,e||v()},deactivate:function(){p.addClass("is-inactive"),setTimeout(function(){v(),p.removeClass("is-inactive")},a)}},v=function(){p.attr("style",""),n.refBtn.attr("style","")},y=function(){d.fire("app--load-more"),g.deactivate()},w=function(e){var t=c.getScrollMax();!f||e>t||(e>=t-o?(n.html.addClass("is-loader-moment"),l(p[0],0,u(t-e),0),l(n.refBtn[0],0,u(-(o+(e-t))),0)):(n.html.removeClass("is-loader-moment"),v()))};e.app.loader=g}(window,window.document,window.app.dom,window.app.config,window.app.util),function(e,t,n,i,r,o,a,s){"use strict";/*!
   *
   * App Controller: feed
   *
   * A nice description of what this controller does...
   *
   *
   */
var u=a.easeDuration,l=s.noop,c=s.loadImages,d=s.scroller,p=s.emitter,f=s.shuffle,h=s.getTransitionDuration,m=s.isElementInViewport,g=s.toggleMouseWheel,v=s.toggleTouchMove,y=null,w=null,b=null,T=null,_=null,C=null,x=!1,E=!1,S=h(n.page[0]),D=require("scroll2"),A=require("Easing"),j={name:"feed",init:function(){app.log("feed initialized")},isActive:function(){return x=this.getElements()>0},onload:function(){C=y.data(),C.page=C.page||1,p.on("app--resize",P),p.on("app--resize-small",N),p.on("app--resize-normal",M),p.on("app--load-more",this.shimLoading),o.isSmall()||M(),L(),I(),setTimeout(function(){C.pages>1&&(r.activate(!0),n.html.addClass("is-feed-loadable"))},u)},unload:function(){this.teardown()},getElements:function(){return y=n.page.find(".js-feed"),w=y.parent(),b=y.children(),T=b.clone(),_=$("<section />",{"class":"feed feed--center"}),y.length},teardown:function(){x=!1,E=!1,C=null,N(!0),y=null,w=null,b=null,T=null,_=null,p.off("app--resize",P),p.off("app--resize-small",N),p.off("app--resize-normal",M),p.off("app--load-more",this.shimLoading),n.html.removeClass("is-navbar-light is-feed-loadable")},shimUpdate:function(){n.page.removeClass("is-reactive").addClass("is-inactive"),setTimeout(function(){i.topout()},S),setTimeout(function(){b.detach(),b=f(b),y.html(b),n.page.removeClass("is-reactive is-inactive")},2*S)},shimLoading:function(){if(!E){E=!0,v(!1),g(!1);var t=_.clone(),i=f(T.clone());i.addClass("is-loading"),t.append(i),setTimeout(function(){i.addClass("is-active"),c(i.find(".js-lazy-image"),l).on("done",function(){C.page++,w.append(t),j.setItems(b.add(i)),v(!0),g(!0),C.page===C.pages&&(r.activate(!1),n.html.removeClass("is-feed-loadable")),setTimeout(function(){i.removeClass("is-loading"),n.html.removeClass("is-loader-moment")},u/2),D({y:d.getScrollY()+e.innerHeight/2,ease:A.easeInOutCubic,duration:u,complete:function(){E=!1}})})},u)}},setItems:function(e){b=e,I()}},M=function(){p.on("app--scroll",L),app.log("bind animate feed")},N=function(e){p.off("app--scroll",L),e||b.removeClass("is-active"),app.log("unbind animate feed")},I=function(){var e,t=$(".js-linklist-item");if(t.length)for(e=t.length;e--;)t.eq(e).find(".js-linklist-hostname")[0].innerHTML=t[e].hostname.replace("www.","")},k=function(){var e,t;for(t=b.length;t--;)e=b.eq(t),m(e[0])?e.addClass("is-active"):e.removeClass("is-active")},P=function(){o.isSmall()||L()},L=function(){b.length&&!E&&k()};e.app.feed=j}(window,window.document,window.app.dom,window.app.scrolls,window.app.loader,window.app.resizes,window.app.config,window.app.util),function(e,t,n,i){"use strict";/*!
   *
   * App Controller: preload
   *
   * A nice description of what this controller does...
   *
   *
   */
var r=i.noop,o=i.loadImages,a=i.emitter,s=i.isElementLoadable,u=null,l=null,c=null,d={name:"preload",init:function(){app.log("preload initialized")},isActive:r,onload:function(){this.doPreload()},unload:function(){u=null,l=null,c=null},triggerEvents:function(){a.fire("app--do-scroll"),a.fire("app--do-resize")},doPreload:function(e,t){u=e||n.page.find(".js-lazy-image"),l=$([]);var i,r=0,d=u.length;for(i=0;d>i;i++)s(u[i])&&l.push(u[i]);app.log("preload will load",l.length,"out of",u.length,"images"),l.length?(c=o(l,function(){return r++,a.fire("app--preload-data",{total:l.length,done:r}),!0}),c.on("done",function(){p(t)})):p(t)}},p=function(e){var t=u.not(l);t.length&&(c=null,c=o(t,s),c.on("done",function(){app.log("lazyloaded",t.length,"images")})),app.log("preloaded",l.length,"images"),a.fire("app--preload-done"),$.isFunction(e)&&e()};e.app.preload=d}(window,window.document,window.app.dom,window.app.util),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Controller: gallery
   *
   * A nice description of what this controller does...
   *
   *
   */
var a=i.hammerDefaults,s=o.px,u=o.emitter,l=o.translate3d,c=o.getTransitionDuration,d=o.getTransformValues,p=o.calculateAspectRatioFit,f=null,h=null,m=null,g=null,v=null,y=null,w=null,b=!1,T=!1,_=3,C=null,x=null,E=require("Hammered"),S={},D={name:"gallery",init:function(){app.log("gallery initialized")},isActive:function(){return b=this.getElements()>0},onload:function(){f.detach(),m.detach(),v=m.clone(),u.on("app--resize",R),u.on("app--resize-small",A),u.on("app--resize-normal",j),S.feed=new E(h[0],a),S.feed.on("tap",".js-controller--gallery",F),S.gallery=new E(f[0],a),S.gallery.on("tap",".js-gallery-overlay",z),S.gallery.on("tap",".js-controller--gallery-nav",H),S.gallery.on("tap",".js-gallery-link",k),r.isSmall()?A():j()},unload:function(){this.teardown()},getElements:function(){return f=n.body.find(".js-gallery-overlay"),h=n.body.find(".js-gallery"),m=f.find(".js-gallery-template"),g=m.parent(),x=c(m[0]),C=c(f[0]),h.length},teardown:function(){b=!1,T=!1,w=null,j(),u.off("app--resize",R),u.off("app--resize-small",A),u.off("app--resize-normal",j),S.feed.off("tap",F),S.gallery.off("tap",z),S.gallery.off("tap",H),S.gallery.off("tap",k),S={},v=null,y=null,f=null,h=null,m=null,g=null}},A=function(){S.gallery.on("panend",".js-gallery-image",I),S.gallery.on("panleft",".js-gallery-image",N),S.gallery.on("panright",".js-gallery-image",N),S.gallery.on("tap",".js-gallery-image",M),w&&$(w).attr("style",""),f.off("scroll",O),app.log("bind swipe")},j=function(){S.gallery.off("panend",I),S.gallery.off("panleft",N),S.gallery.off("panright",N),S.gallery.off("tap",M),f.on("scroll",O),app.log("unbind swipe")},M=function(){var t=(e.innerHeight-w.height)/2+80;T=!T,T?(v.addClass("is-more"),l(w,0,s(t),0)):(v.addClass("is-less"),l(w,0,0,0),setTimeout(function(){v.removeClass("is-less is-more")},i.easeDuration))},N=function(e){e.preventDefault();var t=d(this),n=t.y,i=e.deltaX/_;l(this,s(i),s(n),0)},I=function(e){e.preventDefault(),e.direction===Hammer.DIRECTION_LEFT?L(y.next(),"is-advance","is-devance"):e.direction===Hammer.DIRECTION_RIGHT&&L(y.prev(),"is-devance","is-advance")},k=function(){f.is(".is-active")&&(f.removeClass("is-active"),n.html.removeClass("is-clipped"),setTimeout(function(){f.detach(),v.remove(),w=null,T=!1,y=null,v=null},C))},P=function(t){var n=(e.innerHeight-w.height)/2,i=t;i>n?i=n:0>i&&(i=0),l(v.find(".js-gallery-image")[0],0,s(i),0)},L=function(e,t,n){v.addClass(t),setTimeout(function(){v.remove(),e.length?q(e,n):k()},x)},q=function(e,t){v=m.clone(),y=e;var n=y.find("img"),i=y.data();w=new Image,w.src=n[0].src,w.className="gallery-overlay__image__src",R(),v.find(".js-gallery-link")[0].href=i.url,v.find(".js-gallery-title")[0].innerHTML=i.title,v.find(".js-gallery-caption")[0].innerHTML=i.caption,v.find(".js-gallery-image")[0].appendChild(w),g[0].appendChild(v[0]),t&&(v.addClass(t),setTimeout(function(){v.removeClass(t)},100))},H=function(){-1!==this.className.indexOf("gallery-overlay__advance")?L(y.next(),"is-advance","is-devance"):L(y.prev(),"is-devance","is-advance")},O=function(){var t=f[0].scrollTop,n=v.find(".js-gallery-context")[0].offsetTop,i=t+e.innerHeight/2;i>n?v.find(".js-gallery-context").addClass("is-active"):v.find(".js-gallery-context").removeClass("is-active"),P(t)},R=function(){if(w&&!r.isSmall()&&e.innerWidth>i.mobileWidth){var t=e.innerWidth-400,n=e.innerHeight-160,o=p(w.naturalWidth,w.naturalHeight,t,n);w.style.width=s(o.width),w.style.height=s(o.height)}},z=function(e){return T?void M():void(e.target===f[0]&&k())},F=function(){q($(this)),n.html.addClass("is-clipped"),n.body.append(f),setTimeout(function(){f.addClass("is-active")},0)};e.app.gallery=D}(window,window.document,window.app.dom,window.app.config,window.app.resizes,window.app.util),function(e){"use strict";/*!
   *
   * App Controller: api
   *
   * Using some lesser thought of APIs for this shim:
   * https://developers.google.com/news-search/v1/jsondevguide
   * http://shreyaschand.com/blog/2013/01/03/google-autocomplete-api/
   *
   *
   */
var t="https://ajax.googleapis.com/ajax/services/search/news",n="http://suggestqueries.google.com/complete/search",i="/api/feed/",r={search:function(e){return $.ajax({url:t,data:{q:e,v:"1.0",rsz:8,hl:"en"},dataType:"jsonp",type:"GET"})},suggest:function(e){return $.ajax({url:n,data:{q:e,client:"chrome",hl:"en"},dataType:"jsonp",type:"GET"})},feed:function(e){return $.ajax({url:i,data:{q:e},dataType:"html",type:"GET"})}};e.app.api=r}(window,window.document),function(e){"use strict";/*!
   *
   * App Module: /keys
   *
   * @namespace keys
   * @memberof app
   *
   *
   */
var t={TAB:9,ENTER:13};e.app.keys=t}(window,window.document),function(e,t,n,i,r,o,a,s,u,l){"use strict";/*!
   *
   * App Controller: search
   *
   * A nice description of what this controller does...
   *
   *
   */
var c=l.emitter,d=l.shuffle,p=l.getTransitionDuration,f=null,h=null,m=null,g=null,v=require("debounce"),y=null,w=!1,b=!1,T=null,_=null,C={name:"search",init:function(){app.log("search initialized")},isActive:function(){return b=this.getElements()>0},onload:function(){setTimeout(function(){h[0].focus()},_),u.isSmall()?E():D(),f.on("submit",P),c.on("app--resize-small",I),c.on("app--resize-normal",N)},unload:function(){this.teardown()},getElements:function(){return f=n.page.find(".js-search"),h=f.find(".js-search-input"),m=f.find(".js-search-suggest"),g=n.page.find(".js-search-results"),_=p(g[0]),f.length},teardown:function(){b=!1,T=null,w=!1,f.removeClass("is-search-results").off("submit",P),S(),A(),c.off("app--resize-small",I),c.off("app--resize-normal",N),f=null,h=null,m=null,g=null}},x=function(e){y=i.feed(e).done(function(e){var t=d($(e)),n=t.find(".js-lazy-image");y=null,g.addClass("is-unloaded"),a.doPreload(n,function(){g.html(t).removeClass("is-unloaded").addClass("is-updating"),o.setItems(t),setTimeout(function(){g.removeClass("is-updating"),w||(w=!0,f.addClass("is-search-results"))},_)})}).fail(function(e,t,n){app.log(e,t,n)})},E=function(){h.on("keydown",k),m.val(""),app.log("bind small search")},S=function(){h.off("keydown",k),app.log("unbind small search")},D=function(){h.on("keyup",q).on("keydown",L),app.log("bind normal search")},A=function(){h.off("keyup",q).off("keydown",L),app.log("unbind normal search")},j=function(e,t){return e===t},M=function(){g.addClass("is-unloaded"),setTimeout(function(){g[0].innerHTML=""},_)},N=function(){S(),D()},I=function(){A(),E()},k=function(e){var t=j(e.which,r.ENTER);t&&(h[0].blur(),x(this.value))},P=function(e){return e.preventDefault(),!1},L=function(e){var t=j(e.which,r.ENTER),n=j(e.which,r.TAB);return n?(h.val(m.val()),e.preventDefault(),!1):t?(e.preventDefault(),!1):void i.suggest(this.value).done(function(e){var t=e[1][0];m.val(t)})},q=v(function(e){var t=this.value.replace(/\s/g,"");return y&&y.abort(),t?t===T?(e.preventDefault(),!1):(T=t,void x(this.value)):(M(),m.val(""),e.preventDefault(),!1)},250);e.app.search=C}(window,window.document,window.app.dom,window.app.api,window.app.keys,window.app.feed,window.app.preload,window.app.config,window.app.resizes,window.app.util),function(e,t,n,i){"use strict";/*!
   *
   * App Controller: drawer
   *
   * A nice description of what this controller does...
   *
   *
   */
var r=i.hammerDefaults,o=null,a=null,s=null,u=null,l=require("Hammered"),c=null,d={init:function(){o=n.doc[0].createElement("div"),o.className="drawer-content",u=n.doc[0].createElement("div"),u.className="drawer-content__wrap",o.appendChild(u),a=n.doc[0].createElement("div"),a.className="drawer-header js-drawer-header",a.innerHTML='<button class="drawer-header__button button"><span class="icon icon--arrow-left"></span></button>',s=n.doc[0].createElement("div"),s.className="drawer-header__label title",a.appendChild(s),c=new l(a,r),c.on("tap",".js-drawer-header",this.close),app.log("drawer initialized")},attach:function(){n.body[0].appendChild(a),n.body[0].appendChild(o)},detach:function(){n.body[0].removeChild(a),n.body[0].removeChild(o)},append:function(e){u.appendChild(e)},empty:function(){u.innerHTML="",s.innerHTML=""},label:function(e){s.innerHTML=e},open:function(){n.html.addClass("is-drawer-open")},close:function(){n.html.removeClass("is-drawer-open")},teardown:function(){this.detach(),this.close(),this.empty()}};e.app.drawer=d}(window,window.document,window.app.dom,window.app.config),function(e,t,n,i,r,o,a,s){"use strict";/*!
   *
   * App Controller: account
   *
   * A nice description of what this controller does...
   *
   *
   */
var u=a.hammerDefaults,l=s.emitter,c=s.loadImages,d=s.noop,p=s.getTransitionDuration,f=null,h=null,m=null,g=null,v=!1,y=null,w=null,b=require("Hammered"),T=null,_={name:"account",init:function(){app.log("account initialized")},isActive:function(){return v=this.getElements()>0},onload:function(){T=new b(f[0],u),i.clearActive(),g.data("true-parent",g.parent()),o.isSmall()?C():E(),n.doc.on("change",".js-account-avatar-uploader",I),l.on("app--resize-small",N),l.on("app--resize-normal",M)},unload:function(){this.teardown()},getElements:function(){return f=n.body.find(".js-account"),h=f.find(".js-toggle"),m=f.find(".js-toggle-view"),g=f.find(".js-account-pages"),w=p(m[0]),f.length},teardown:function(){v=!1,w=null,y=null,o.isSmall()?x():S(),f=null,h=null,m=null,g=null,n.doc.off("change",I),l.off("app--resize-small",N),l.off("app--resize-normal",M),T=null}},C=function(){T.on("tap",".js-toggle",A),T.on("tap",".js-account-header",j),r.append(g[0]),r.attach(),c(g.find(".js-lazy-image"),d),app.log("bind small toggle")},x=function(){T.off("tap",A),T.off("tap",j),g.appendTo(g.data("true-parent")),r.teardown(),app.log("unbind small toggle")},E=function(){T.on("tap",".js-toggle",D),h.first().addClass("is-active"),m.first().addClass("is-active"),app.log("bind normal toggle")},S=function(){T.off("tap",D),app.log("unbind normal toggle")},D=function(){var e=$(this),t=$(this.hash),n=m.filter(".is-active");if(!e.is(".is-active")){try{clearTimeout(y),m.removeClass("is-entering is-exiting is-active")}catch(i){}h.removeClass("is-active"),e.addClass("is-active"),n.removeClass("is-active").addClass("is-exiting"),y=setTimeout(function(){n.removeClass("is-exiting"),t.addClass("is-entering"),y=setTimeout(function(){t.removeClass("is-entering").addClass("is-active")},w)},w)}},A=function(){var e=$(this.hash);h.removeClass("is-active"),m.removeClass("is-active"),e.addClass("is-active"),r.label(this.innerHTML),r.open()},j=function(){r.close()},M=function(){x(),E()},N=function(){S(),C()},I=function(){var e=n.body.find(".js-account-avatar"),t=new FileReader;t.onload=function(t){for(var n=t.target.result,i=e.length;i--;)e[i].style.backgroundImage="url("+n+")"},t.readAsDataURL(this.files[0])};e.app.account=_}(window,window.document,window.app.dom,window.app.navbar,window.app.drawer,window.app.resizes,window.app.config,window.app.util),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Controller: cover
   *
   * A nice description of what this controller does...
   *
   *
   */
var a=o.emitter,s=o.loadImages,u=null,l=!1,c=!1,d={name:"cover",init:function(){app.log("cover initialized")},isActive:function(){return l=this.getElements()>0},onload:function(){u.data("$mobile-image",u.find(".js-lazy-image-mobile")),n.html.addClass("is-cover-page"),a.on("app--scroll",h),a.on("app--resize-tall",p),a.on("app--resize-wide",f),h(e.scrollY),i.isTall()?p():f()},unload:function(){this.teardown()},getElements:function(){return u=n.body.find(".js-cover"),u.length},remove:function(){u.remove()},teardown:function(){u=null,n.html.removeClass("is-cover-page is-cover-moment is-navbar-light"),l=!1,c=!1,a.off("app--scroll",h),a.off("app--resize-tall",p),a.off("app--resize-wide",f)}},p=function(){var e=u.data("$mobile-image");e.length&&(c||(c=!0,s(e)),h(),u.addClass("is-fullscreen"))},f=function(){h(),u.removeClass("is-fullscreen")},h=function(t){var i=u.data("nav");t>=e.innerHeight/2?n.html.removeClass("is-cover-moment"):n.html.addClass("is-cover-moment"),i&&(t<e.innerHeight?n.html.addClass(i):n.html.removeClass(i))};e.app.cover=d}(window,window.document,window.app.dom,window.app.resizes,window.app.detect,window.app.util),function(e,t,n,i,r,o,a,s,u,l,c,d){"use strict";/*!
   *
   * App Controller: refine
   *
   * A nice description of what this controller does...
   *
   *
   */
var p=c.hammerDefaults,f=d.noop,h=d.getTransitionDuration,m=d.emitter,g=n.refine.find(".js-refine-topic"),v=n.refine.find(".js-refine-category"),y=null,w=!1,b=!1,T=null,_=h(n.refine[0]),C=require("Hammered"),x={},E={name:"refine",init:function(){n.refine.detach(),x.refine=new C(n.refine[0],p),x.refine.on("tap",".js-refine",k),x.refine.on("tap",".js-refine-topic",P),x.refine.on("tap",".js-refine-category",L),x.refBtn=new C(n.refBtn[0],p),x.refBtn.on("tap",".js-controller--refine",q),m.on("app--refine-topic",this.setTopic),app.log("refine initialized")},isActive:f,onload:function(){this.getElements(),M()?A():D()},unload:function(){D()},getElements:function(){y=n.body.find(".js-refine-label")},setTopic:function(e){g.removeClass("is-active"),g.filter("[data-topic='"+e+"']").addClass("is-active")}},S=function(){return g.filter(".is-active").add(v.filter(".is-active")).text()},D=function(){n.refBtn.addClass("is-inactive")},A=function(){n.refBtn.removeClass("is-inactive")},j=function(){var e,t=v.filter(".is-active"),n=g.filter(".is-active").text(),i=["<span>"+n+"</span>"],r=t.length;for(e=0;r>e;e++)i.push(t[e].innerHTML);y.addClass("is-active")[0].innerHTML=i.join(" / ")},M=function(){var e=!0;return(o.isActive()||a.isActive()||s.isActive()||$(".js-article").length||$(".js-kit-of-parts").length)&&(e=!1),e},N=function(){setTimeout(function(){n.refine.detach(),g.removeClass("is-active").first().addClass("is-active"),v.removeClass("is-active")},_)},I=function(){var e=S();w&&(w=!1,e!==T&&(i.shimUpdate(),u.isActive()&&(u.remove(),u.teardown()),j()),l.clearStates()),n.refine.removeClass("is-active"),n.html.removeClass("is-clipped"),n.refBtn.removeClass("is-active"),N()},k=function(e){e.target===n.refine[0]&&q.call(e.target)},P=function(){var e=$(this);g.removeClass("is-active"),v.removeClass("is-active"),e.addClass("is-active")},L=function(){$(this).toggleClass("is-active")},q=function(){w=$(this).is(".js-controller--refine"),b=!b,b?(n.html.addClass("is-clipped"),n.body.append(n.refine),n.refBtn.addClass("is-active"),T=S(),setTimeout(function(){n.refine.addClass("is-active")},0)):I()};e.app.refine=E}(window,window.document,window.app.dom,window.app.feed,window.app.preload,window.app.gallery,window.app.search,window.app.account,window.app.cover,window.app.scrolls,window.app.config,window.app.util),function(e,t,n,i,r){"use strict";/*!
   *
   * App Module: /players/Scrubber
   *
   * A nice description of what this module does...
   *
   *
   */
var o=i.mediabox,a=i.parseTime,s=i.px,u=r.easeDuration,l=r.hammerDefaults,c=require("Tween"),d=require("Easing"),p=require("Hammered"),f=function(){o.fadeChannelOut("sfx"),o.fadeChannelOut("bgm"),o.fadeChannelOut("vid")},h=function(e,t,n){var i=t.parent(),r=e.next(".js-media-duration"),o=t[0].clientWidth-e[0].clientWidth/2,u=i[0].clientWidth-(r[0].clientWidth+e[0].clientWidth+20);e.text(a(n)),e[0].style.left=s(Math.min(o,u)),o>=u?r.addClass("is-static"):r.removeClass("is-static")},m=function(e,t){var n=o.getMediaProp(e.id,"duration");t.$duration.text(a(n))},g=function(e,t){var n=o.getMediaProp(e.id,"duration"),i=o.getMediaProp(e.id,"currentTime"),r=i/n*100+"%";t.$progress[0].style.width=r,h(t.$time,t.$progress,i)},v=function(e,t,n){var i=n.srcEvent.clientX-t.$progress[0].getBoundingClientRect().left,r=i/t.$scrubber[0].clientWidth,a=r*o.getMediaProp(e.id,"duration");o.pauseMedia(e.id),t.$progress[0].style.width=s(i),h(t.$time,t.$progress,a)},y=function(e,t,n){var i=n.srcEvent.clientX-t.$progress[0].getBoundingClientRect().left,r=i/t.$scrubber[0].clientWidth,a=r*o.getMediaProp(e.id,"duration");f(),o.setMediaProp(e.id,"currentTime",a).playMedia(e.id)},w=function(e,t,n){var i,r,a=n.srcEvent.clientX-t.$progress[0].getBoundingClientRect().left;o.pauseMedia(e.id),new c({to:a,from:t.$progress[0].clientWidth,ease:d.easeOutCubic,update:function(n){i=n/t.$scrubber[0].clientWidth,r=i*o.getMediaProp(e.id,"duration"),t.$progress[0].style.width=s(n),h(t.$time,t.$progress,r)},complete:function(n){i=n/t.$scrubber[0].clientWidth,r=i*o.getMediaProp(e.id,"duration"),f(),o.setMediaProp(e.id,"currentTime",r).playMedia(e.id),h(t.$time,t.$progress,r)},duration:u})},b=function(){return this.init.apply(this,arguments)};b.stopChannels=f,b.prototype={constructor:b,init:function(e,t,n){this.type=e,this.ui=n,this.data=t,this.onScrubTap=function(e){w(t,n,e)},this.onScrubPan=function(e){v(t,n,e)},this.onScrubPanEnd=function(e){y(t,n,e)},this.onLoadedMetaData=function(){m(t,n)},this.onTimeUpdate=function(){g(t,n)},this.hammered=new p(this.ui.$module[0],l),this.hammered.on("panend",".js-"+this.type+"-scrubber",this.onScrubPanEnd),this.hammered.on("panleft",".js-"+this.type+"-scrubber",this.onScrubPan),this.hammered.on("panright",".js-"+this.type+"-scrubber",this.onScrubPan),this.hammered.on("tap",".js-"+this.type+"-scrubber",this.onScrubTap),o.addMediaEvent(t.id,"loadedmetadata",this.onLoadedMetaData).addMediaEvent(t.id,"timeupdate",this.onTimeUpdate)},teardown:function(){this.hammered.off("panend",this.onScrubPanEnd),this.hammered.off("panleft",this.onScrubPan),this.hammered.off("panright",this.onScrubPan),this.hammered.off("tap",this.onScrubTap)},resetUI:function(){this.ui.$progress[0].style.width=s(0),this.ui.$time.text(""),this.ui.$duration.removeClass("is-static")}},e.app.players.Scrubber=b}(window,window.document,window.app.dom,window.app.util,window.app.config),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Module: /players/audio
   *
   * A nice description of what this module does...
   *
   *
   */
var a=r.mediabox,s=r.emitter,u=r.isElementInViewport,l=o.animDuration,c=o.longDuration,d=o.hammerDefaults,p=null,f=null,h=require("Hammered"),m=!1,g={name:"audio",init:function(){app.log("audio initialized")},isActive:function(){return m=this.getElements()>0},onload:function(){s.on("app--scroll",x),n.body.on("mouseenter",".js-audio",T).on("mouseleave",".js-audio",_),v()},unload:function(){this.teardown()},getElements:function(){return p=n.body.find(".js-audio"),f=n.body.find(".js-controller--audio"),f.length},teardown:function(){m=!1,s.off("app--scroll",x),n.html.removeClass("is-audio-active"),n.body.off("mouseenter",T).off("mouseleave",_),y(),p=null,f=null}},v=function(){var e,t,n,i;for(i=f.length;i--;)t=f.eq(i),n=$(t.data("target")),e=new h(t[0],d),t.data({$target:n,hammered:e}),n.data({$controller:t}),e.on("tap",".js-controller--audio",C)},y=function(){var e,t,n,i,r,o,s=a.getAudios();for(a.fadeChannelOut("sfx"),a.fadeChannelOut("bgm"),setTimeout(function(){for(r in s)a.getMedia(r)&&a.destroyMedia(r)},l),o=f.length;o--;)t=f.eq(o),e=t.data(),e.hammered.off("tap",C),t.removeData();for(o=p.length;o--;)i=p.eq(o),n=i.data("Scrubber"),n.teardown(),n=null,i.removeData()},w=function(e,t){var n=e.data();a.addAudio({id:n.id,src:n.src.split("|"),channel:n.channel,onloaded:function(){e.addClass("is-loaded"),$.isFunction(t)&&t()}}),b(e,n)},b=function(e,t){var r=e.find(".js-media-duration"),o=e.find(".js-audio-progress"),s=e.find(".js-media-time"),u=new i("audio",t,{$module:e,$progress:o,$scrubber:o.parent(),$time:s,$duration:r});e.data("Scrubber",u),a.addMediaEvent(t.id,"play",function(){n.html.addClass("is-audio-active"),e.addClass("is-active"),t.$controller.addClass("is-active")}).addMediaEvent(t.id,"pause",function(){n.html.removeClass("is-audio-active"),t.$controller.removeClass("is-active")}).addMediaEvent(t.id,"ended",function(){a.stopMedia(t.id).setMediaProp(t.id,"currentTime",0),n.html.removeClass("is-audio-active"),e.removeClass("is-hovered"),t.$controller.removeClass("is-active"),u.resetUI()})},T=function(){var e=$(this),t=e.data("id");try{clearTimeout(e.data("timeout"))}catch(n){}a.getMedia(t)&&e.is(".is-active")&&a.isPlaying(t)&&e.addClass("is-hovered")},_=function(){var e=$(this);e.data("timeout",setTimeout(function(){e.removeClass("is-hovered")},c))},C=function(){var e=$(this),t=e.data(),n=t.$target.data(),r=function(){a.setVolume(n.id,0),a.playMedia(n.id),a.fadeVolumeIn(n.id)};i.stopChannels(),a.getMedia(n.id)?a.isPlaying(n.id)?a.fadeVolumeOut(n.id):r():w(t.$target,r)},x=function(){var e,t,n=p.not(".is-loaded");for(n.length||s.off("app--scroll",x),t=n.length;t--;)e=n.eq(t),!a.getMedia(e.data("id"))&&u(e[0])&&w(e)};e.app.players.audio=g}(window,window.document,window.app.dom,window.app.players.Scrubber,window.app.util,window.app.config),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Module: /players/video
   *
   * A nice description of what this module does...
   *
   *
   */
var a=r.px,s=r.mediabox,u=r.emitter,l=r.loadImages,c=r.isElementLoadable,d=r.isElementInViewport,p=r.translate3d,f=r.noop,h=o.easeDuration,m=o.animDuration,g=o.longDuration,v=null,y=null,w=require("raf"),b=require("caf"),T=null,_=null,C=null,x=!1,E={name:"video",init:function(){app.log("video initialized")},isActive:function(){return x=this.getElements()>0},onload:function(){u.on("app--scroll",O),n.body.on("click",".js-video-el, .js-video-poster, .js-video-title",H).on("mouseenter",".js-video",I).on("mouseleave",".js-video",k).on("mouseenter",".js-video-scrubber",P).on("mouseleave",".js-video-scrubber",q).on("mousemove",".js-video-scrubber",L),O()},unload:function(){this.teardown()},getElements:function(){return v=n.body.find(".js-video"),y=v.filter(".video--autoplay"),v.length},teardown:function(){T=null,_=null,x=!1,u.off("app--scroll",O),n.body.off("click",H).off("mouseenter",I).off("mouseleave",k).off("mouseenter",P).off("mouseleave",q).off("mousemove",L),S(),v=null,y=null}},S=function(){var e,t,n,i,r=s.getVideos();for(s.fadeChannelOut("vid"),setTimeout(function(){for(n in r)s.getMedia(n)&&s.destroyMedia(n)},m),i=v.length;i--;)e=v.eq(i),t=e.data("Scrubber"),t&&(t.teardown(),t=null,e.removeData())},D=function(e){var t=e.find(".js-video-el"),n=e.find(".js-video-poster");e.addClass("is-loaded"),t.prop("autoplay")?A(e):n.length&&l(n,f)},A=function(e){var t=e.find(".js-video-el"),n=e.data();s.addVideo({id:n.id,src:n.src.split("|"),element:t[0],channel:"vid"}),j(n.id)},j=function(e){var t=function(){s.getMedia(e)&&4===s.getMediaProp(e,"readyState")?(b(n),s.setMediaProp(e,"volume",0),s.setMediaProp(e,"muted",!0),s.playMedia(e),setTimeout(function(){s.pauseMedia(e)},h)):n=w(t)},n=w(t)},M=function(e,t){var n=e.find(".js-video-el"),i=e.find(".js-video-thumb"),r=i.data(),o=e.data(),a={addVideo:[{id:o.id,src:o.src.split("|"),element:n[0],channel:"vid"}]};i.length&&a.addVideo.push({id:r.id,src:r.src.split("|"),element:i[0],channel:"vid"}),s.addMedia(a),N(o,e,r,t)},N=function(e,t,n,r){var o=t.find(".js-video-progress"),a=t.find(".js-video-poster"),u=t.find(".js-video-title"),l=t.find(".js-media-time"),c=t.find(".js-media-duration"),d=new i("video",e,{$module:t,$progress:o,$scrubber:o.parent(),$time:l,$duration:c}),p=function(){s.getMedia(e.id)&&4===s.getMediaProp(e.id,"readyState")&&4===s.getMediaProp(n.id,"readyState")?(b(f),s.setMediaProp(n.id,"volume",0),s.setMediaProp(n.id,"muted",!0),$.isFunction(r)&&r()):f=w(p)},f=w(p);t.data("Scrubber",d),s.addMediaEvent(e.id,"play",function(){a.addClass("is-inactive"),u.addClass("is-inactive"),t.addClass("is-hovered")}).addMediaEvent(e.id,"ended",function(){s.stopMedia(e.id).setMediaProp(e.id,"currentTime",0),a.removeClass("is-inactive"),u.removeClass("is-inactive"),t.removeClass("is-hovered"),d.resetUI()})},I=function(){var e=$(this),t=e.data("id");try{clearTimeout(e.data("timeout"))}catch(n){}s.getMedia(t)&&s.isPlaying(t)&&e.addClass("is-hovered")},k=function(){var e=$(this);e.data("timeout",setTimeout(function(){e.removeClass("is-hovered")},g))},P=function(e){function t(){T=w(t);var e=_/n[0].clientWidth,i=e*s.getMediaProp(o,"duration");r[0].currentTime=i,p(r[0],a(C),0,0)}var n=$(this),i=n.closest(".js-video"),r=i.find(".js-video-thumb"),o=i.data("id");try{clearTimeout(n.data("timeout"))}catch(u){}L.call(this,e),T=w(t),n.addClass("is-hovered"),r.addClass("is-active")},L=function(e){var t,n=$(this),i=n.closest(".js-video"),r=n.find(".js-video-progress"),o=i.find(".js-video-thumb"),a=e.clientX-r[0].getBoundingClientRect().left,s=n[0].clientWidth-o[0].offsetWidth/2-16,u=16+o[0].offsetWidth/2;t=u>=a?Math.max(u,a):a>=s?Math.min(s,a):a,_=a,C=t},q=function(){var e=$(this),t=e.closest(".js-video"),n=t.find(".js-video-thumb");e.data("timeout",setTimeout(function(){b(T),T=null,_=null,e.removeClass("is-hovered"),n.removeClass("is-active")},g))},H=function(){var e=$(this),t=e.closest(".js-video"),n=t.data("id"),r=function(){s.setVolume(n,0),s.playMedia(n),s.fadeVolumeIn(n)};e.prop("autoplay")||(i.stopChannels(),s.getMedia(n)?s.isPlaying(n)?s.fadeVolumeOut(n):r():M(t,r))},O=function(){var e,t,i,r,o=v.not(".is-loaded");for(o.length||y.length||u.off("app--scroll",O),r=o.length;r--;)e=o.eq(r),c(e[0])&&D(e);for(r=y.length;r--;)t=y.eq(r),i=t.data("id"),s.getMedia(i)&&(d(t[r])?s.isPlaying(i)||(s.playMedia(i),n.html.addClass("is-cinematic-moment")):s.isPlaying(i)&&(s.pauseMedia(i),n.html.removeClass("is-cinematic-moment")))};e.app.players.video=E}(window,window.document,window.app.dom,window.app.players.Scrubber,window.app.util,window.app.config),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Controller: carousel
   *
   * A nice description of what this controller does...
   *
   *
   */
var a=r.hammerDefaults,s=o.noop,u=o.emitter,l=o.loadImages,c=o.getTransitionDuration,d=o.isElementLoadable,p=null,f=!1,h=require("Hammered"),m={name:"carousel",init:function(){app.log("carousel initialized")},isActive:function(){return f=this.getElements()>0},onload:function(){u.on("app--scroll",y)},unload:function(){this.teardown()},teardown:function(){f=!1,g(),u.off("app--scroll",y),p=null},getElements:function(){return p=n.page.find(".js-carousel"),p.length}},g=function(){for(var e,t,n=p.length;n--;)e=p.eq(n),t=e.data(),t.hammered&&(t.hammered.off("tap",w),e.removeData())},v=function(e){var t=e.find(".js-carousel-item"),n=e.find(".js-carousel-image"),i=new h(e[0],a);e.addClass("is-loaded"),l(n,s),e.data({index:0,length:t.length,timeout:null,duration:c(t[0]),hammered:i,$images:n}),t.first().addClass("is-active"),i.on("tap",".js-carousel-item",w)},y=function(){var e,t,n=p.not(".is-loaded");for(n.length||u.off("app--scroll",y),t=n.length;t--;)e=p.eq(t),d(e[t])&&v(e)},w=function(){var e=$(this),t=e.closest(".js-carousel"),n=t.find(".js-carousel-item"),i=null,r=t.find(".js-carousel-idx"),o=t.data("index"),a=t.data("length"),s=t.data("duration");try{clearTimeout(t.data("timeout")),n.removeClass("is-entering is-exiting is-active")}catch(u){}o===a-1?o=0:o+=1,r.text(o+1+" / "+a),i=n.eq(o),e.removeClass("is-active").addClass("is-exiting"),i.addClass("is-entering"),t.data({index:o,timeout:setTimeout(function(){e.removeClass("is-exiting"),i.removeClass("is-entering").addClass("is-active")},s)})};e.app.carousel=m}(window,window.document,window.app.dom,window.app.resizes,window.app.config,window.app.util),function(e,t,n,i,r){"use strict";/*!
   *
   * App Controller: belt
   *
   * A nice description of what this controller does...
   *
   *
   */
var o=r.emitter,a=r.isElementLoadable,s=r.loadImages,u=r.noop,l=r.px,c=r.translate3d,d=null,p=!1,f=!1,h={name:"belt",init:function(){app.log("belt initialized")},isActive:function(){return p=this.getElements()>0},onload:function(){o.on("app--scroll",w),f||o.on("app--loadscript--gs-draggable",y)},unload:function(){this.teardown()},teardown:function(){p=!1,m(),d=null,o.off("app--scroll",w),o.off("app--loadscript--gs-draggable",y)},getElements:function(){return d=n.page.find(".js-belt"),d.length}},m=function(){for(var e,t,n=d.length;n--;)e=d.eq(n),t=e.data("Draggable"),t&&t.kill(),e.removeData()},g=function(t){var n,i,r=t.find(".js-belt-image"),o=t.find(".js-belt-line"),a=r.eq(Math.ceil((r.length-1)/2));t.addClass("is-loaded"),s(r,u).on("done",function(){v(r),c(o[0],l(-a[0].offsetLeft+e.innerWidth/2-a[0].clientWidth/2),0,0),n=Draggable.create(o[0],{type:"x",edgeResistance:.7,dragResistance:.5,bounds:t[0],throwProps:!0,cursor:"grab",lockAxis:!0,onDragStart:function(){t.addClass("is-dragging")},onDragEnd:function(){var e=Math.abs(n.x-i);e>100&&t.addClass("is-dragged"),t.removeClass("is-dragging")}})[0],i=n.x,t.data("Draggable",n).addClass("is-draggable")})},v=function(e){var t,n;for(n=e.length;n--;)t=e[n].naturalWidth>e[n].naturalHeight?e[n].naturalHeight/e[n].naturalWidth*100:e[n].naturalWidth/e[n].naturalHeight*100,e[n].style.height=t+"vh"},y=function(){f=!0,w()},w=function(){var e,t,n=d.not(".is-loaded");if(f)for(n.length||o.off("app--scroll",w),t=n.length;t--;)e=d.eq(t),a(e[t])&&g(e)};e.app.belt=h}(window,window.document,window.app.dom,window.app.scrolls,window.app.util),function(e,t,n,i){"use strict";var r=i.emitter,o=null,a=!1,s={init:function(){app.log("scripts initialized")},isActive:function(){return a=this.getElements()>0},onload:function(){this.loadScripts()},unload:function(){this.teardown()},teardown:function(){a=!1,o=null},getElements:function(){return o=n.body.find(".js-lazy-script"),o.length},loadScripts:function(e){var t,n,i;for(e=e||o,i=e.length;i--;)t=e[i],n=e.eq(i).data(),t.__jsLoaded=t.__jsLoaded||!1,t.__jsLoaded||u(t,n)}},u=function(e,t){e.async=!0,e.src=t.src,e.onload=e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.__jsLoaded=!0,e.onload=e.onreadystatechange=null,t.id&&setTimeout(function(){r.fire("app--loadscript--"+t.id)},100))}};e.app.scripts=s}(window,window.document,window.app.dom,window.app.util),function(e,t,n,i,r,o,a,s,u,l,c,d,p,f,h,m,g,v){"use strict";/*!
   *
   * App Controller: router
   *
   * A nice description of what this controller does...
   *
   *
   */
var y=n.emitter,w=n.getTransitionDuration,b=require("PageController"),T=w(i.page[0]),_=new b({transitionTime:T}),C={init:function(){_.setConfig(["*"]),_.setModules([u,a,v,d,r,s,c,p,f.video,f.audio,o,m,g]),_.initPage(),_.on("page-controller-router-samepage",function(){l.close()}),_.on("page-controller-router-transition-out",function(){S()}),_.on("page-controller-router-refresh-document",function(e){D(e)}),_.on("page-controller-router-transition-in",function(e){A(e)}),x(),app.log("router initialized",_)}},x=function(){i.body.on("click","[href^='#']",function(e){e.preventDefault()})},E=function(){a.triggerEvents(),setTimeout(function(){i.html.removeClass("is-routing"),i.page.removeClass("is-reactive is-inactive")},T),y.off("app--preload-done",E)},S=function(){l.close(),h.reset(),i.html.addClass("is-routing"),i.page.removeClass("is-reactive").addClass("is-inactive"),y.on("app--preload-done",E)},D=function(e){var n=$(e),r=n.find(".js-page")[0].innerHTML;t.title=n.filter("title").text(),i.page[0].innerHTML=r},A=function(){i.page.addClass("is-reactive")};e.app.router=C}(window,window.document,window.app.util,window.app.dom,window.app.feed,window.app.refine,window.app.preload,window.app.search,window.app.scrolls,window.app.navbar,window.app.gallery,window.app.cover,window.app.account,window.app.players,window.app.loader,window.app.carousel,window.app.belt,window.app.scripts),function(e,t,n,i,r,o){"use strict";/*!
   *
   * App Controller: loadin
   *
   * A nice description of what this controller does...
   *
   *
   */
var a=o.emitter,s=o.getTransitionDuration,u=$(".js-loadin"),l=u.find(".js-bar"),c=s(u[0]),d={init:function(){u.length&&a.on("app--preload-done",p)},teardown:function(){u.remove(),u=null,l=null,a.off("app--preload-done",p),c=null}},p=function(){u.addClass("is-loadin-intro"),n.html.addClass("is-loadin-cover"),setTimeout(function(){u.addClass("is-loadin-outro"),setTimeout(function(){u.removeClass("is-active"),n.html.removeClass("is-loadin-cover"),setTimeout(function(){d.teardown()},i.easeDuration)},i.easeDuration)},1e3)};e.app.loadin=d}(window,window.document,window.app.dom,window.app.config,window.app.preload,window.app.util),function(e,t,n,i,r,o,a,s,u,l,c){"use strict";/*!
   *
   * App basic javascript
   *
   * A nice description of what this file does...
   *
   *
   */
e.onload=function(){u.init(),c.init(),r.init(),a.init(),o.init(),s.init(),l.init()}}(window,window.document,window.jQuery,window.Hammer,window.app.resizes,window.app.navbar,window.app.router,window.app.loader,window.app.detect,window.app.drawer,window.app.loadin);